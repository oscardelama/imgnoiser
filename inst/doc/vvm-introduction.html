<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="date" content="2015-01-16" />

<title>vvm Class Introduction</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E5%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%2016px%200%2012px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dtop%3A%200%2E3em%3B%0A%20%20%20%20margin%2Dleft%3A%201%2E5em%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20decimal%20outside%3B%0A%20%20%20%20line%2Dheight%3A%201%2E5em%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%202em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%20%20font%2Dsize%3A%2090%25%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%3A%201px%20solid%20%23E8E8E8%3B%0A%20%20border%2Dright%3A%201px%20solid%20%23E8E8E8%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%205px%2010px%3B%0A%7D%0A%0Apre%5Bclass%5E%3D%22source%22%5D%20%7B%0A%20%20border%3A%201px%20solid%20%23ECECEC%3B%0A%20%20border%2Dleft%3A%203px%20solid%20%23E4E4E4%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%3A%201px%20solid%20%23ECECEC%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2090%25%3B%0A%7D%0A%0Apre%20%3E%20code%20%7B%0A%20%20line%2Dheight%3A%201%2E2%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%200px%204px%3B%0A%20%20border%3A%201px%20solid%20%23D8D8E2%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%200%2E75em%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20margin%3A%204px%20auto%3B%0A%20%20box%2Dshadow%3A%200px%200px%204px%20%23EDECE5%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%201em%3B%0A%20%20font%2Dsize%3A%2028px%3B%0A%20%20line%2Dheight%3A%201%2E4%3B%0A%20%20color%3A%20hsl%28230%2C%2079%25%2C%2013%25%29%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title"><em>vvm</em> Class Introduction</h1>
<h4 class="date"><em>2015-01-16</em></h4>
</div>


<p>The <em>vvm</em> acronym stands for “Variance versus Mean” and refers to a technique to study and profile the noise in digital camera raw images.</p>
<p>The <em>variance</em> and the <em>mean</em> of the pixel values from raw image samples at different exposition levels have a known relationship, which is useful to profile a camera sensor noise response and to compute some sensor noise performance characteristic values.</p>
<p>In the code examples, the function output is presented prefixed by <code>#&gt;</code>, while a single <code>#</code> represents real (user) comments.</p>
<div id="TOC">
<div class="toctitle">
Table of Contents
</div>
<ul>
<li><a href="#vvm-proc">The <em>vvm</em> Technique</a></li>
<li><a href="#vvm-input">Input Data for the <em>vvm</em> Class</a></li>
<li><a href="#create">Creating a <em>vvm</em> Instance</a></li>
<li><a href="#digest">Digesting the Image Samples</a></li>
<li><a href="#result">Getting the Computed Values</a>
<ul>
<li><a href="#var">Variance Result</a></li>
<li><a href="#cov">Covariance Result</a></li>
</ul></li>
<li><a href="#other">Usage of other <em>vvm</em> Functions</a></li>
<li><a href="#methods">Summary of <em>vvm</em> Members</a></li>
</ul>
</div>
<div id="vvm-proc" class="section level1">
<h1><span class="header-section-number">1</span> The <em>vvm</em> Technique</h1>
<p>The <em>variance</em> and the <em>mean</em> of the pixel values from raw image samples, coming from photographs of a uniformly lit plain surface, have a quadratic relationship when the <em>Variance</em> is expressed as a function of the <em>Mean</em>.</p>
<p>In this relationship, the quadratic term is caused by the PRNU (pixel response non uniformity). The PRNU term means that every sensor photosite, even when exposed to exactly the same light intensity, does not have exactly the same response, producing different pixel values causing image noise.</p>
<p>The linear term in the <em>Variance Versus Mean</em> (<code>vvm</code>) relationship is mainly caused by the <em>Photon Shot Noise</em>, and the intercept or constant term is caused by the <em>Read Noise</em>.</p>
<p>Knowing this <em>Variance Versus Mean</em> relationship, we can build a regression between them to have a profile of the camera noise, and compute some features that characterize the noise performance of a camera sensor.</p>
<p>Without the proper tools, the application of this technique is labor intensive, slow and error prone. The <code>vvm</code> class contains well suited functions to automatize the process and make it easy to apply over a large set of samples.</p>
<p>The theoretical basis of this approach is explained in the article <a href="http://www.odelama.com/photo/A-Simple-DSLR-Camera-Sensor-Noise-Model/#VVM-theo"><em>“A Simple DSLR Camera Sensor Noise Model”</em></a>, while the <a href="http://www.odelama.com/photo/Use-of-Linear-Regressions-to-Model-Camera-Sensor-Noise/#vvm-app"><em>“Use of Linear Regressions to Model Camera Sensor Noise”</em></a> describes the practical application of that model. The article <a href="http://www.odelama.com/data-analysis/Handling-Heteroscedastic-Data-from-Camera-Sensor-Noise/#h-solve-hetero"><em>“Handling Heteroscedastic Data from Camera Sensor Noise”</em></a> explains how to handle the heteroscedasticity that appear in the <em>Variance Versus Mean</em> relationship.</p>
</div>
<div id="vvm-input" class="section level1">
<h1><span class="header-section-number">2</span> Input Data for the <em>vvm</em> Class</h1>
<p>The input for the <code>vvm</code> class are the image sample files coming from raw photo files taken at different exposition levels. In the vignette <a href="collecting-image-samples.html">“collecting image samples”</a> you will find more details about how to prepare those image samples.</p>
<p>The supported file name extensions are ‘.fit’ or ‘.fits’ for the  format or ‘.pgm’ for the  format. The letter case is irrelevant for the file name extension.</p>
</div>
<div id="create" class="section level1">
<h1><span class="header-section-number">3</span> Creating a <em>vvm</em> Instance</h1>
<p>To use of the <code>vvm</code> class, and in general any other class in the package, we need first to create an instance of the class, which is done calling the <code>vvm$new()</code> function. This function name –for instance creation– is standardized; by default, every class contains this function. For example, there are the <code>vvm$new()</code> and <code>hvdvvm$new()</code> functions.</p>
<p>The return value of this <code>new()</code> function is what is called a class instance object. This way the output of the <code>vvm$new()</code> function is a <code>vvm</code> instance object or just an <em>object</em> for short.</p>
<p>Once we have an object of the class, we can access to the class functions and variables through that particular object. For example:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create an 'vvm' instance object and save it in the 'my.vvm.object' variable</span>
my.vvm &lt;-<span class="st"> </span><span class="kw">vvm.new</span>()
<span class="co"># Starting from here we can access to any class function and variable using the</span>
<span class="co"># instance object. for example:</span>
my.vvm$<span class="kw">digest</span>(<span class="st">'crop_1'</span>, <span class="st">'crop_240'</span>, <span class="st">'./samples/'</span>, <span class="st">'.fit'</span>)</code></pre>
<p>Of course, we can create many instance objects, for the processing of the same or different image samples.</p>
<p>We will create and save an instance of the <code>vvm</code> class assuming our image samples have the RGGB pattern for the layout of the photosites color filters. You can get detailed information about the <code>vvm$new()</code> function parameters with the command:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">help</span>(<span class="st">'vvm$new'</span>)</code></pre>
<p>We will save our instance object in the <code>my.vvm</code> variable.</p>
<pre class="sourceCode r"><code class="sourceCode r">my.vvm &lt;-<span class="st"> </span>vvm$<span class="kw">new</span>(<span class="dt">has.RGGB.pattern =</span> <span class="ot">TRUE</span>)</code></pre>
<p>If we <em>print</em> this variable, we will get –in a nice style– a list of its members. Those are the class members you can use, with exception of those whose name start with a period <code>.</code> which are meant for internal use only.</p>
<pre class="sourceCode r"><code class="sourceCode r">my.vvm
<span class="co">#&gt; &lt;vvm&gt;</span>
<span class="co">#&gt;   function:</span>
<span class="co">#&gt;     digest()</span>
<span class="co">#&gt;     digest.to.rgb()</span>
<span class="co">#&gt;     exists.model()</span>
<span class="co">#&gt;     fit.model()</span>
<span class="co">#&gt;     get.model()</span>
<span class="co">#&gt;     get.model.predictions()</span>
<span class="co">#&gt;     initialize()</span>
<span class="co">#&gt;     plot()</span>
<span class="co">#&gt;     print.model.summary()</span>
<span class="co">#&gt;     remove.model()</span>
<span class="co">#&gt;   variable:</span>
<span class="co">#&gt;     channel.labels</span>
<span class="co">#&gt;     cov.df</span>
<span class="co">#&gt;     green.channels</span>
<span class="co">#&gt;     merged.var.cov.df</span>
<span class="co">#&gt;     model.list</span>
<span class="co">#&gt;     RGGB.indices</span>
<span class="co">#&gt;     var.df</span>
<span class="co">#&gt;     wide.var.df</span></code></pre>
<p>Notice in the above list, there are some components listed as “variables”, technically they are “active bindings”, but as they behave like variables we call them that way.</p>
<p>For example, the <code>vvm</code> class includes the <code>var.df</code> variable containing a data frame with noise information. As usual, we can access to that component through the instance object, <code>my.var</code> in our examples. As any R variable, we can ‘read’ the value in the object-variable to pass it to other functions, to other variable or in a expression:</p>
<pre class="sourceCode r"><code class="sourceCode r">some_var &lt;-<span class="st"> </span>my.vvm$var.df
some_result &lt;-<span class="st"> </span><span class="kw">some_function</span>(..., my.vvm$var.df)</code></pre>
<p>In the <code>imgnoiser</code> package most of those variables are read-only. However, technically its is possible to write or set values on them, eventually we might end up having some of them.</p>
<pre class="sourceCode r"><code class="sourceCode r">my.vvm$some.variable &lt;-<span class="st"> </span>some_value</code></pre>
</div>
<div id="digest" class="section level1">
<h1><span class="header-section-number">4</span> Digesting the Image Samples</h1>
<p>The function that reads and process the image samples in the <code>vvm</code> class is called <code>digest()</code>. We must feed that function with a set of image samples, prepared as described in the section <a href="#vvm-input"><em>“Input data for the <em>vvm</em> Procedure”</em></a>.</p>
<p>For this example, we have image samples named {<code>crop_1.fit</code>, <code>crop_2.fit</code>, … <code>crop_240.fit</code>} in a folder called ‘samples’.</p>
<p>The <code>vvm$digest()</code> function will receive arguments specifying that set of samples. The <code>file.name.from</code> and <code>file.name.to</code> parameters are for the alphabetical range of the images file names in a given folder. In this example <code>crop_1</code> and <code>crop_240</code>, respectively. Notice these arguments are for the base names, i.e. excluding the path and the name extension, which are specified with the <code>path.to.files</code> and the <code>file.name.ext</code> parameters.</p>
<p>The file sequence may contain gaps, and the letter case is relevant. All the files found in the given folder within the given range will be processed by the <code>digest()</code> function.</p>
<p>If you have a set of sample file names not meeting this conditions, you can call the <code>vvm$digest()</code> function using as argument for the <code>file.name.from</code> parameter a vector containing explicitly the sample file names. The package functions <code>select.file.range</code> and <code>file.name.seq</code> can help you to build that vector.</p>
<p>When the <code>show.progress</code> option is <code>TRUE</code> –as it is by default– a progress bar will appear showing you how much of the process was already done. If that option is <code>FALSE</code>, as we will use for this example, at the end of the processing, the function will print a message about how many image samples were processed.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Turn off the progress bar</span>
<span class="kw">imgnoiser.option</span>(<span class="st">'show.progress'</span>, <span class="ot">FALSE</span>)
<span class="co"># The image files are in the './samples/' folder</span>
my.vvm$<span class="kw">digest</span>(<span class="st">'crop_1'</span>, <span class="st">'crop_240'</span>, <span class="st">'./samples/'</span>, <span class="st">'.fit'</span>)
<span class="co">#&gt; 240 image samples were successfully processed.</span></code></pre>
</div>
<div id="result" class="section level1">
<h1><span class="header-section-number">5</span> Getting the Computed Values</h1>
<p>The <code>vvm$digest()</code> function computes and saves <em>variance</em> and <em>covariance</em> information from the photosites values in the image samples.</p>
<div id="var" class="section level2">
<h2><span class="header-section-number">5.1</span> Variance Result</h2>
<p>We can get the resulting <em>variance</em> reading the <code>vvm$var.df</code> variable.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get the computed variance</span>
<span class="kw">head</span>(my.vvm$var.df)</code></pre>
<table>
<caption><strong>Variance and Mean results</strong></caption>
<thead>
<tr class="header">
<th align="left">pict</th>
<th align="center">channel</th>
<th align="right">mean</th>
<th align="right">var</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">crop_1.fit</td>
<td align="center">Red</td>
<td align="right">6733</td>
<td align="right">3838</td>
</tr>
<tr class="even">
<td align="left">crop_1.fit</td>
<td align="center">Green R</td>
<td align="right">14967</td>
<td align="right">7394</td>
</tr>
<tr class="odd">
<td align="left">crop_1.fit</td>
<td align="center">Green B</td>
<td align="right">15018</td>
<td align="right">7472</td>
</tr>
<tr class="even">
<td align="left">crop_1.fit</td>
<td align="center">Blue</td>
<td align="right">12258</td>
<td align="right">6801</td>
</tr>
<tr class="odd">
<td align="left">crop_1.fit</td>
<td align="center">Green Avg</td>
<td align="right">14992</td>
<td align="right">7639</td>
</tr>
<tr class="even">
<td align="left">crop_10.fit</td>
<td align="center">Red</td>
<td align="right">3525</td>
<td align="right">1609</td>
</tr>
</tbody>
</table>
<p>The <code>pict</code>column shows the name of the image sample file.</p>
<p>Notice by the <code>channel</code> factor how the procedure has computed independently the <code>mean</code> and <code>var</code> variables for each of the channels in each pair of samples. There is also data for a <em>synthetic</em> “green average” channel, with label <code>Green Avg</code>.</p>
<p>This is a convenience channel averaging both green channels: the <code>mean</code> of this <em>synthetic</em> channel is the mean of the average pixel value considering both green channels as a single whole, and the <code>var</code> is the variance of both green channels –also– computed as a single whole.</p>
<p>Now we can plot the data showing the relationship between the <code>var</code> and the <code>mean</code> variables for each <code>channel</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plot the data in the standard model</span>
my.vvm$<span class="kw">plot</span>()</code></pre>
<p><img src="data:image/png;base64,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" title alt style="display: block; margin: auto;" /></p>
<p>You can notice a slight quadratic pattern in the plot showing the relationship between the pixel variance and mean. We will see later the use of the plot function in more detail.</p>
</div>
<div id="cov" class="section level2">
<h2><span class="header-section-number">5.2</span> Covariance Result</h2>
<p>The <code>vvm$digest()</code> function also computes the <em>covariance</em> between each pair of channels in the image samples. We get that <em>covariance</em> data reading the <code>vvm$cov.df</code> variable.</p>
<p>In the following data frame, the columns <code>chan.a</code> and <code>chan.b</code> show the channels whose <em>covariance</em> is shown in the <code>cov.a.b</code> column. All the other columns have the same meaning as in the <em>variance</em> data in the <code>vvm$var.df</code> variable we saw above.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get the computed covariance</span>
<span class="kw">head</span>(my.vvm$cov.df)</code></pre>
<table>
<caption><strong>Covariance result</strong></caption>
<thead>
<tr class="header">
<th align="left">pict</th>
<th align="center">chan.a</th>
<th align="center">chan.b</th>
<th align="right">cov.a.b</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">crop_1.fit</td>
<td align="center">Red</td>
<td align="center">Green R</td>
<td align="right">147.6</td>
</tr>
<tr class="even">
<td align="left">crop_1.fit</td>
<td align="center">Red</td>
<td align="center">Green B</td>
<td align="right">326.5</td>
</tr>
<tr class="odd">
<td align="left">crop_1.fit</td>
<td align="center">Red</td>
<td align="center">Blue</td>
<td align="right">-178.0</td>
</tr>
<tr class="even">
<td align="left">crop_1.fit</td>
<td align="center">Red</td>
<td align="center">Green Avg</td>
<td align="right">237.0</td>
</tr>
<tr class="odd">
<td align="left">crop_1.fit</td>
<td align="center">Green R</td>
<td align="center">Green B</td>
<td align="right">206.0</td>
</tr>
<tr class="even">
<td align="left">crop_1.fit</td>
<td align="center">Green R</td>
<td align="center">Blue</td>
<td align="right">662.6</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="other" class="section level1">
<h1><span class="header-section-number">6</span> Usage of Other <em>vvm</em> Functions</h1>
<p>There are more <code>vvm</code> class functions you can call from your class object, they are introduced in the <a href="hvdvm-and-vvm-usage.html"><em>“hvdvm and vvm Class Usage”</em> vignette</a>.</p>
</div>
<div id="methods" class="section level1">
<h1><span class="header-section-number">7</span> Summary of <code>vvm</code> Members</h1>
<p>You can get this summary issuing the R command <code>help('vvm')</code>. However, the format in that help is not as easy to read like this.</p>
<div id="new" class="section level2">
<h2><span class="header-section-number">7.1</span> new()</h2>
<p>Create a new instance of the vvm class.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">new</span>(
  <span class="dt">channel.labels   =</span> <span class="kw">imgnoiser.option</span>(<span class="st">&quot;channel.labels&quot;</span>),
  <span class="dt">green.channels   =</span> <span class="kw">imgnoiser.option</span>(<span class="st">&quot;green.channels&quot;</span>),
  <span class="dt">has.RGGB.pattern =</span> <span class="kw">imgnoiser.option</span>(<span class="st">&quot;has.RGGB.pattern&quot;</span>),
  <span class="dt">avg.green.label  =</span> <span class="kw">imgnoiser.option</span>(<span class="st">&quot;avg.green.channel.label&quot;</span>)
)</code></pre>
</div>
<div id="digest" class="section level2">
<h2><span class="header-section-number">7.2</span> digest()</h2>
<p>Compute and collect statistics from the raw images files.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">digest</span>(
  <span class="dt">file.name.from =</span> <span class="kw">stop</span>(<span class="st">&quot;The 'file.name.from' argument is missing.&quot;</span>),
  <span class="dt">file.name.to   =</span> <span class="kw">stop</span>(<span class="st">&quot;The 'file.name.to' argument is missing.&quot;</span>),
  <span class="dt">path.to.files  =</span> <span class="st">'./'</span>,
  <span class="dt">file.name.ext  =</span> <span class="st">'.pgm'</span>
)</code></pre>
</div>
<div id="digest.to.rgb" class="section level2">
<h2><span class="header-section-number">7.3</span> digest.to.rgb()</h2>
<p>Compute and collect statistics from RGB images obtained converting the raw image samples.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">digest.to.rgb</span>(
  <span class="dt">file.name.from =</span> <span class="kw">stop</span>(<span class="st">&quot;The 'file.name.from' argument is missing.&quot;</span>),
  <span class="dt">file.name.to   =</span> <span class="kw">stop</span>(<span class="st">&quot;The 'file.name.to' argument is missing.&quot;</span>),
  <span class="dt">path.to.files  =</span> <span class="st">'./'</span>,
  <span class="dt">file.name.ext  =</span> <span class="st">'.pgm'</span>,
  <span class="dt">is.neutral     =</span> <span class="ot">FALSE</span>,
  <span class="dt">map.to.rgb     =</span> <span class="kw">stop</span>(<span class="st">&quot;The 'map.to.rgb' argument is missing.&quot;</span>),
  <span class="dt">rgb.scale      =</span> <span class="dv">255</span>,
  <span class="dt">rgb.labels     =</span> <span class="kw">imgnoiser.option</span>(<span class="st">'rgb.labels'</span>),
  <span class="dt">tone.curve     =</span> <span class="kw">imgnoiser.option</span>(<span class="st">'tone.curve.id'</span>),
)</code></pre>
</div>
<div id="var.df" class="section level2">
<h2><span class="header-section-number">7.4</span> var.df</h2>
<p>Get the resulting noise variance data.</p>
<pre class="sourceCode r"><code class="sourceCode r">var.df</code></pre>
</div>
<div id="cov.df" class="section level2">
<h2><span class="header-section-number">7.5</span> cov.df</h2>
<p>Get the resulting noise covariance data.</p>
<pre class="sourceCode r"><code class="sourceCode r">cov.df</code></pre>
</div>
<div id="merged.var.cov.df" class="section level2">
<h2><span class="header-section-number">7.6</span> merged.var.cov.df</h2>
<p>Get the resulting noise variance and covariance merged data.</p>
<pre class="sourceCode r"><code class="sourceCode r">merged.var.cov.df</code></pre>
</div>
<div id="wide.var.df" class="section level2">
<h2><span class="header-section-number">7.7</span> wide.var.df</h2>
<p>Get the resulting noise variance data in a wide format.</p>
<pre class="sourceCode r"><code class="sourceCode r">wide.var.df</code></pre>
</div>
<div id="channel.labels" class="section level2">
<h2><span class="header-section-number">7.8</span> channel.labels</h2>
<p>Get the channel labels.</p>
<pre class="sourceCode r"><code class="sourceCode r">channel.labels</code></pre>
</div>
<div id="green.channels" class="section level2">
<h2><span class="header-section-number">7.9</span> green.channels</h2>
<p>Get the green channels indices.</p>
<pre class="sourceCode r"><code class="sourceCode r">green.channels</code></pre>
</div>
<div id="fit.model" class="section level2">
<h2><span class="header-section-number">7.10</span> fit.model()</h2>
<p>Fit a model to the noise data.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">fit.model</span>(
  <span class="dt">model.name      =</span> <span class="kw">imgnoiser.option</span>(<span class="st">&quot;fit.model.name&quot;</span>),
  <span class="dt">model.family    =</span> <span class="kw">imgnoiser.option</span>(<span class="st">&quot;fit.model.family&quot;</span>),
  <span class="dt">degree          =</span> 2L,
  <span class="dt">formula         =</span> <span class="ot">NULL</span>,
  <span class="dt">conf.level      =</span> <span class="kw">imgnoiser.option</span>(<span class="st">'conf.level'</span>),
  <span class="dt">model.data.name =</span> <span class="kw">imgnoiser.option</span>(<span class="st">&quot;fit.model.data&quot;</span>),
  ...
)</code></pre>
</div>
<div id="print.model.summary" class="section level2">
<h2><span class="header-section-number">7.11</span> print.model.summary()</h2>
<p>Print a fitted model summary.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print.model.summary</span>(
  <span class="dt">model.name =</span> <span class="kw">imgnoiser.option</span>(<span class="st">&quot;fit.model.name&quot;</span>),
  <span class="dt">select     =</span> <span class="ot">NULL</span>,
  ...
)</code></pre>
</div>
<div id="get.model.predictions" class="section level2">
<h2><span class="header-section-number">7.12</span> get.model.predictions()</h2>
<p>Get the values predicted by a fitted model.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">get.model.predictions</span>(
  <span class="dt">model.name =</span> <span class="kw">imgnoiser.option</span>(<span class="st">&quot;fit.model.name&quot;</span>),
  <span class="dt">x          =</span> <span class="ot">NULL</span>,
  <span class="dt">select     =</span> <span class="ot">NULL</span>,
  <span class="dt">conf.level =</span> <span class="ot">NULL</span>,
  ...
)</code></pre>
</div>
<div id="get.model" class="section level2">
<h2><span class="header-section-number">7.13</span> get.model()</h2>
<p>Get a fitted model object.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">get.model</span>(
  <span class="dt">model.name =</span> <span class="kw">imgnoiser.option</span>(<span class="st">&quot;fit.model.name&quot;</span>),
  <span class="dt">select     =</span> <span class="ot">NULL</span>
)</code></pre>
</div>
<div id="exists.model" class="section level2">
<h2><span class="header-section-number">7.14</span> exists.model()</h2>
<p>Find if a model with a given name has already been fitted.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">exists.model</span>(
  <span class="dt">model.name =</span> <span class="kw">imgnoiser.option</span>(<span class="st">&quot;fit.model.name&quot;</span>)
)</code></pre>
</div>
<div id="model.list" class="section level2">
<h2><span class="header-section-number">7.15</span> model.list</h2>
<p>Get a list with the fitted models.</p>
<pre class="sourceCode r"><code class="sourceCode r">model.list</code></pre>
</div>
<div id="remove.model" class="section level2">
<h2><span class="header-section-number">7.16</span> remove.model()</h2>
<p>Remove a fitted model.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">remove.model</span>(
  <span class="dt">model.name =</span> <span class="kw">stop</span>(<span class="st">&quot;A model name argument is required.&quot;</span>)
)</code></pre>
</div>
<div id="plot" class="section level2">
<h2><span class="header-section-number">7.17</span> plot()</h2>
<p>Plot a fitted model and its source data.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(
  <span class="dt">model.name =</span> <span class="ot">FALSE</span>,
  <span class="dt">obs        =</span> <span class="ot">TRUE</span>,
  <span class="dt">print      =</span> <span class="ot">TRUE</span>,
  <span class="dt">fit        =</span> <span class="ot">FALSE</span>,
  <span class="dt">pred.int   =</span> <span class="ot">FALSE</span>,
  <span class="dt">x          =</span> <span class="ot">NULL</span>,
  <span class="dt">y          =</span> <span class="ot">NULL</span>,
  <span class="dt">tlab       =</span> <span class="ot">NULL</span>,
  <span class="dt">slab       =</span> <span class="ot">NULL</span>,
  <span class="dt">xlab       =</span> <span class="ot">NULL</span>,
  <span class="dt">ylab       =</span> <span class="ot">NULL</span>,
  <span class="dt">xlim       =</span> <span class="ot">NULL</span>,
  <span class="dt">ylim       =</span> <span class="ot">NULL</span>,
  <span class="dt">warnings   =</span> <span class="ot">FALSE</span>
)</code></pre>
<p>↵</p>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
