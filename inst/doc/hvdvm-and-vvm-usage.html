<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="date" content="2014-12-30" />

<title>hvdvm and vvm Class Usage</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E5%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%2016px%200%2012px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dtop%3A%200%2E3em%3B%0A%20%20%20%20margin%2Dleft%3A%201%2E5em%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20decimal%20outside%3B%0A%20%20%20%20line%2Dheight%3A%201%2E5em%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%202em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%20%20font%2Dsize%3A%2090%25%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%3A%201px%20solid%20%23E8E8E8%3B%0A%20%20border%2Dright%3A%201px%20solid%20%23E8E8E8%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%205px%2010px%3B%0A%7D%0A%0Apre%5Bclass%5E%3D%22source%22%5D%20%7B%0A%20%20border%3A%201px%20solid%20%23ECECEC%3B%0A%20%20border%2Dleft%3A%203px%20solid%20%23E4E4E4%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%3A%201px%20solid%20%23ECECEC%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2090%25%3B%0A%7D%0A%0Apre%20%3E%20code%20%7B%0A%20%20line%2Dheight%3A%201%2E2%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%200px%204px%3B%0A%20%20border%3A%201px%20solid%20%23D8D8E2%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%200%2E75em%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20margin%3A%204px%20auto%3B%0A%20%20box%2Dshadow%3A%200px%200px%204px%20%23EDECE5%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%201em%3B%0A%20%20font%2Dsize%3A%2028px%3B%0A%20%20line%2Dheight%3A%201%2E4%3B%0A%20%20color%3A%20hsl%28230%2C%2079%25%2C%2013%25%29%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title"><em>hvdvm</em> and <em>vvm</em> Class Usage</h1>
<h4 class="date"><em>2014-12-30</em></h4>
</div>


<p>The <code>hvdvm</code> and the <code>vvm</code> classes process the raw image samples in different way, and correspondingly their output must be interpreted in different way. From the point of view of these classes implementation, this means they have very different <code>digest()</code> function and the data in their <code>var.df</code> and <code>cov.df</code> variables have different meanings. However, from an operational point of view, everything else in these classes works in the same way and with the same semantics. Of course, everything derived from their data, as plot or a fitted models must be interpreted considering the nature of their data.</p>
<p>This vignette describes the functionality in the <em>hvdvm</em> and the <em>vvm</em> classes with the same behaviour. Before to read this vignette we encourage you to read first the <a href="hvdvm-introduction.html"><em>“hvdvm class usage”</em></a> or the <a href="vvm-introduction.html"><em>“vvm class usage”</em></a> vignette, because this one is the follow up of both of them.</p>
<p>In the examples, instead of the <code>my.hvdvm</code> or the <code>my.vvm</code> object —when possible— we will use <code>my.obj</code> to represent an object that can be instance of <code>hvdvm</code> or the <code>vvm</code> class.</p>
<p>In the code examples, the function output is presented prefixed by <code>#&gt;</code>, while a single <code>#</code> represents real (user) comments.</p>
<div id="TOC">
<div class="toctitle">
Table of Contents
</div>
<ul>
<li><a href="#get-help">Getting Help about the Class components</a></li>
<li><a href="#intro-fit">Introduction to Model Fitting</a>
<ul>
<li><a href="#model-data">Model Data Source</a></li>
<li><a href="#model-family">Model Family</a></li>
</ul></li>
<li><a href="#model-fit">Fitting a Model</a>
<ul>
<li><a href="#model-pred">Model Predictions</a></li>
<li><a href="#model-sum">Model Summary</a></li>
<li><a href="#model-obj">Model Objects</a></li>
<li><a href="#lqrem">List, Query and Remove Fitted Models</a></li>
</ul></li>
<li><a href="#plot">Plotting</a></li>
<li><a href="#persist">Persistence</a></li>
</ul>
</div>
<div id="get-help" class="section level1">
<h1><span class="header-section-number">1</span> Getting Help about a Class Components</h1>
<p>In the following sections we will focus on the concepts and general workflow using the <code>hvdvm</code> or the <code>vvm</code> class. If you want more complete information about technical details, as which parameters are available for a given function, please use the R help system. In this section we will see how to get help about those classes components.</p>
<p>To get the documentation of the <code>new()</code> function in the class <code>hvdvm</code>, one would expect the use of either of the following equivalent R commands:</p>
<pre class="sourceCode r"><code class="sourceCode r">?hvdvm$new
<span class="kw">help</span>(<span class="st">'hvdvm$new'</span>)</code></pre>
<p>However, the first one won’t work and will throw you an error. The second one will work just fine.</p>
<p>The first case <code>?hvdvm$new</code> fails because the use of R6 classes in the style made for the development of the <code>imgnoiser</code> package is rather new and the R help system is not ready for them yet. To call the help documentation, use the second way as in <code>help('hvdvm$new')</code>.</p>
<p>If you don’t recall which functions are available in a class instance, just “print”&quot; it and you will get a list of the class members.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getwd</span>()
<span class="co">#&gt; [1] &quot;G:/USERS/TITO/Google Drive/WEB_SITES/IMGNOISER-ENV/imgnoiser/vignettes&quot;</span>
my.vvm &lt;-<span class="st"> </span>vvm$<span class="kw">new</span>()
<span class="co"># This command will 'print' the instance</span>
my.vvm
<span class="co">#&gt; &lt;vvm&gt;</span>
<span class="co">#&gt;   Public:</span>
<span class="co">#&gt;     .pack: function</span>
<span class="co">#&gt;     .unpack: function</span>
<span class="co">#&gt;     channel.labels: active binding</span>
<span class="co">#&gt;     cov.df: active binding</span>
<span class="co">#&gt;     digest: function</span>
<span class="co">#&gt;     exists.model: function</span>
<span class="co">#&gt;     fit.model: function</span>
<span class="co">#&gt;     get.model: function</span>
<span class="co">#&gt;     get.model.predictions: function</span>
<span class="co">#&gt;     green.channels: active binding</span>
<span class="co">#&gt;     initialize: function</span>
<span class="co">#&gt;     model.list: active binding</span>
<span class="co">#&gt;     plot: function</span>
<span class="co">#&gt;     print.model.summary: function</span>
<span class="co">#&gt;     remove.model: function</span>
<span class="co">#&gt;     var.df: active binding</span></code></pre>
<p>The components whose name start with a period <code>.</code> are intended for internal use only, please just ignore them.</p>
<p>Now, if —for example— you want to know more detail about the <code>fit.model()</code> function, in the above list, —as we saw above— you can use:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">help</span>(<span class="st">'vvm$fit.model'</span>)</code></pre>
<p>If you don’t have a class instance, you can easily get an overview of the <code>hvdvm</code> class components, with the following command.</p>
<pre class="sourceCode r"><code class="sourceCode r">?hvdvm.class</code></pre>
<p>You will get a list of the class functions with links to more detailed documentation of the <code>hvdvm</code> class components. The same applies to the <code>vvm</code> class.</p>
</div>
<div id="intro-fit" class="section level1">
<h1><span class="header-section-number">2</span> Introduction to Model Fitting</h1>
<p>The concept of model in the <code>imgnoiser</code> package involves two concepts:</p>
<ol style="list-style-type: decimal">
<li><em>Model Data</em>: The specific data which will be used as the observations over which we want to fit a model.</li>
<li><em>Model Family</em>: The mathematical model we want to fit over the data mentioned in the previous point.</li>
</ol>
<div id="model-data" class="section level2">
<h2><span class="header-section-number">2.1</span> Model Data Source</h2>
<p>Actually, only one data source exists by default and its called the standard data model and its named <code>std.var</code>. This model comes from the <em>variance</em> result we got after calling to the <code>hvdvm$digest()</code> function. More precisely, the <code>std.var</code> data model contains part of the data we get reading the <code>my.obj$var.df</code> variable. In this standard model, <code>mean</code> is the predictor variable (x) and <code>var</code> is the predicted one; and this pair of (x, y) observations are grouped by <code>channel</code>.</p>
<p>You can add more data models at your taste by changing the <code>get.model.predictions</code> option value.</p>
<p>When a function requires, as an argument (<code>model.data.name</code>), the name of a data source, by default, it will use the <code>fit.model.data</code> option value, which as you might guess, by default, is <code>std.var</code>.</p>
<p>Unless you provide more models, leave the default value for those <code>model.data.name</code> arguments, as we will do in the following examples.</p>
</div>
<div id="model-family" class="section level2">
<h2><span class="header-section-number">2.2</span> Model Family</h2>
<p>We can choose, among different statistical models, the one that we want to fit to the data source. We group those models by the R function that actually makes the fitting.</p>
<p>By default, the following <em>model families</em>, from the <code>stat</code> package, are available:</p>
<ul>
<li><code>lm</code></li>
<li><code>lmrob</code></li>
<li><code>smooth.spline</code></li>
</ul>
<p>As this fitting functions allow a wide variety of options, in fact directing them to different mathematical models or fitting procedures, we have a broader amount of options than may it seem at first glance. For example, you can use the <code>lm()</code> with weights.</p>
<p>When a function requires as an argument a model family, it will use by default the <code>fit.model.data</code> option value, which by default is <code>lm</code>.</p>
<p>You can add more fitting function at your taste by changing the <code>fit.model.family</code> option value.</p>
</div>
</div>
<div id="model-fit" class="section level1">
<h1><span class="header-section-number">3</span> Fitting a Model</h1>
<p>We can start using a simple (OLS: ordinary least squares) line fitting. To this effect we will leave the default value for all the <code>hvdvm$fit.model()</code> function arguments:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Fit the default 'lm' model and save it with the default 'standard' name.</span>
my.obj$<span class="kw">fit.model</span>()</code></pre>
<pre><code>#&gt; The model &quot;standard&quot; was successfully fitted using:
#&gt; lm(formula = var ~ mean + I(mean^2), data = model.src(&quot;std.var&quot;))</code></pre>
<p>The output after the model fitting mentions the model family (<code>lm</code>), the formula (<code>formula</code>) and the source data (<code>data = model.src(&quot;std.var&quot;)</code>). If there would be other parameters in the calling to the <code>lm()</code> function, they will appear in this output. Everything sent to the fitting functions will appear in this output; nothing is sent “under the hood”.</p>
<p>Notice we did not input a formula, it has been inferred from the source data model and by the default argument for the <code>degree</code> parameter, which for the <code>hvdvm</code> class is <code>1</code> for the <code>vvm</code> one is <code>2</code>. This argument indicates a linear relationship with the predicted variable <code>var</code> being predicted by a first or second degree polynomial on <code>mean</code>. If you set <code>degree = 3</code>, a cubic polynomial on <code>mean</code> will be fitted to predict the <code>var</code> variable, with <code>4</code> you will fit a bi-quadratic one and so on.</p>
<p>Instead of the <code>degree</code> you can directly set the <code>formula</code> argument for the fitting with the specific formula you want. In such cases, when you specify the formula, the <code>degree</code> argument is silently ignored.</p>
<p>Other of the default arguments in the call to the <code>my.obj$fit.model()</code> function we just did, is the name for the model we are fitting (<code>model.name</code> parameter). By default the function uses the <code>fit.model.name</code> option value; which by default is <code>standard</code>.</p>
<p>We can call the <code>my.obj$fit.model()</code> function again but with an argument for the <code>model.name</code> parameter different to <code>standard</code> to do not overwrite the fitting we just did, or we can omit again this argument to overwrite that model.</p>
<p>Lets fit a weighted linear model using as weight the reciprocal squared values of the mean:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(robustbase)
<span class="co"># This time we will set the model name and model family parameters</span>
my.object$<span class="kw">fit.model</span>(<span class="dt">model.name =</span> <span class="st">'weighted'</span>, <span class="dt">weights=</span><span class="dv">1</span>/mean^<span class="dv">2</span>)</code></pre>
<pre><code>#&gt; The model &quot;weighted&quot; was successfully fitted using:
#&gt; lm(formula = var ~ mean + I(mean^2), data = model.src(&quot;std.var&quot;), weights = 1/mean^2)</code></pre>
<p>Notice how we specify the <code>weights</code> argument, for the <code>lm</code> function, using the variable name in our model. All the parameters that don’t correspond to the <code>my.obj$fit.model()</code> function are passed directly to the fitting function. This allows the use any and every parameter available for them.</p>
<div id="model-pred" class="section level2">
<h2><span class="header-section-number">3.1</span> Model Predictions</h2>
<p>We can get the predictions from the <code>standard</code> model we just fit, by calling the <code>my.obj$get.model.predictions()</code> function with the default arguments:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get a data frame with the model predictions for the 'standard' model</span>
preds &lt;-<span class="st"> </span>my.obj$<span class="kw">get.model.predictions</span>()
<span class="kw">head</span>(preds)</code></pre>
<table>
<caption><strong>Model predictions: lm</strong></caption>
<thead>
<tr class="header">
<th align="right">mean</th>
<th align="right">var</th>
<th align="right">channel</th>
<th align="center">sderr</th>
<th align="right">lcl</th>
<th align="right">ucl</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">15.58</td>
<td align="right">15.86</td>
<td align="right">Red</td>
<td align="center">7.79</td>
<td align="right">0.58</td>
<td align="right">31.13</td>
</tr>
<tr class="even">
<td align="right">27.05</td>
<td align="right">20.83</td>
<td align="right">Red</td>
<td align="center">7.72</td>
<td align="right">5.69</td>
<td align="right">35.96</td>
</tr>
<tr class="odd">
<td align="right">46.97</td>
<td align="right">29.47</td>
<td align="right">Red</td>
<td align="center">7.60</td>
<td align="right">14.57</td>
<td align="right">44.37</td>
</tr>
<tr class="even">
<td align="right">81.55</td>
<td align="right">44.50</td>
<td align="right">Red</td>
<td align="center">7.40</td>
<td align="right">30.00</td>
<td align="right">59.00</td>
</tr>
<tr class="odd">
<td align="right">141.59</td>
<td align="right">70.69</td>
<td align="right">Red</td>
<td align="center">7.08</td>
<td align="right">56.82</td>
<td align="right">84.56</td>
</tr>
<tr class="even">
<td align="right">245.82</td>
<td align="right">116.42</td>
<td align="right">Red</td>
<td align="center">6.62</td>
<td align="right">103.45</td>
<td align="right">129.39</td>
</tr>
</tbody>
</table>
<p>The columns in the resulting data frame are:</p>
<ol style="list-style-type: decimal">
<li><code>mean</code>: The predictor variable.</li>
<li><code>var</code>: The predicted variable.</li>
<li><code>channel</code>: The grouping factor.</li>
<li><code>sderr</code>: The prediction standard error.</li>
<li><code>lcl</code>: The lower confidence limit.</li>
<li><code>ucl</code>: The upper confidence limit.</li>
</ol>
<p>The confidence limits are computed using as <em>“confidence factor”</em> the <code>confid.factor</code> option value, currently when we fit the model calling the <code>fit.model()</code> function. By default this factor is <code>1.96</code>. You would set this option, to the value that suits you best, before calling the <code>fit.model()</code> function. However, given the predicted value and its standard error (<code>sderr</code>) in this function output, you can compute them again by yourself as in the following example.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Confidence limits using 2.5 as confidence factor</span>
preds$lcl &lt;-<span class="st"> </span>preds$var -<span class="st"> </span><span class="fl">2.5</span>*preds$sderr
preds$ucl &lt;-<span class="st"> </span>preds$var +<span class="st"> </span><span class="fl">2.5</span>*preds$sderr
<span class="kw">head</span>(preds)</code></pre>
<table>
<caption><strong>Customized Confidence Limits</strong></caption>
<thead>
<tr class="header">
<th align="right">mean</th>
<th align="right">var</th>
<th align="right">channel</th>
<th align="center">sderr</th>
<th align="right">lcl</th>
<th align="right">ucl</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">15.58</td>
<td align="right">15.86</td>
<td align="right">Red</td>
<td align="center">7.79</td>
<td align="right">-3.63</td>
<td align="right">35.34</td>
</tr>
<tr class="even">
<td align="right">27.05</td>
<td align="right">20.83</td>
<td align="right">Red</td>
<td align="center">7.72</td>
<td align="right">1.52</td>
<td align="right">40.13</td>
</tr>
<tr class="odd">
<td align="right">46.97</td>
<td align="right">29.47</td>
<td align="right">Red</td>
<td align="center">7.60</td>
<td align="right">10.47</td>
<td align="right">48.47</td>
</tr>
<tr class="even">
<td align="right">81.55</td>
<td align="right">44.50</td>
<td align="right">Red</td>
<td align="center">7.40</td>
<td align="right">26.01</td>
<td align="right">63.00</td>
</tr>
<tr class="odd">
<td align="right">141.59</td>
<td align="right">70.69</td>
<td align="right">Red</td>
<td align="center">7.08</td>
<td align="right">52.99</td>
<td align="right">88.38</td>
</tr>
<tr class="even">
<td align="right">245.82</td>
<td align="right">116.42</td>
<td align="right">Red</td>
<td align="center">6.62</td>
<td align="right">99.87</td>
<td align="right">132.96</td>
</tr>
</tbody>
</table>
<p>This model predictions span the complete range of predictor values in the original data source:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get the predictor range from predictions</span>
pred.ranges &lt;-<span class="st"> </span><span class="kw">t</span>(<span class="kw">sapply</span>(<span class="kw">split</span>(preds$mean, preds$channel), range))
<span class="co"># Get the predictor range from source data</span>
src.ranges &lt;-<span class="st"> </span><span class="kw">t</span>(<span class="kw">sapply</span>(<span class="kw">split</span>(my.obj$var.df$mean, my.obj$var.df$channel), range))
<span class="co"># Compare source and prediction ranges</span>
<span class="kw">data.frame</span>(<span class="st">'pred.bot'</span> =<span class="st"> </span>pred.ranges[,<span class="dv">1</span>], <span class="st">'pred.top'</span> =<span class="st"> </span>pred.ranges[,<span class="dv">2</span>],
           <span class="st">'src.bot'</span>  =<span class="st"> </span>src.ranges[,<span class="dv">1</span>],  <span class="st">'src.top'</span>  =<span class="st"> </span>src.ranges[,<span class="dv">2</span>])</code></pre>
<table>
<caption><strong>Predictor vs Source data ranges</strong></caption>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">pred.bot</th>
<th align="right">pred.top</th>
<th align="right">src.bot</th>
<th align="right">src.top</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Red</td>
<td align="left">15.58</td>
<td align="right">6733</td>
<td align="right">15.58</td>
<td align="right">6733</td>
</tr>
<tr class="even">
<td align="left">Green R</td>
<td align="left">36.35</td>
<td align="right">14967</td>
<td align="right">36.35</td>
<td align="right">14967</td>
</tr>
<tr class="odd">
<td align="left">Green B</td>
<td align="left">35.49</td>
<td align="right">15018</td>
<td align="right">35.49</td>
<td align="right">15018</td>
</tr>
<tr class="even">
<td align="left">Blue</td>
<td align="left">28.12</td>
<td align="right">12258</td>
<td align="right">28.12</td>
<td align="right">12258</td>
</tr>
<tr class="odd">
<td align="left">Green Avg</td>
<td align="left">35.92</td>
<td align="right">14992</td>
<td align="right">35.92</td>
<td align="right">14992</td>
</tr>
</tbody>
</table>
<p>There are 30 predictions per channel in this function results. When possible, 20 of them are equally spaced in the range of the predictor source data, plus 10 of them logarithmic equally spaced in that range. If that is not possible because there are zero or negative values in the predictor source range, there will be 30 equally spaced predictor values per channel. This makes this predicted data suitable for a nice plotting, which we will do later.</p>
<p>To get the predictions from a fitting model not named <code>standard</code>, as the <code>weighted</code> model we fit before, we just have to mention its name in the call to the <code>my.obj$get.model.predictions()</code> function.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get a data frame with the model predictions for the 'weighted' mode</span>
my.obj$<span class="kw">get.model.predictions</span>(<span class="st">'weighted'</span>)</code></pre>
<table>
<caption><strong>Model predictions: Weighted</strong></caption>
<thead>
<tr class="header">
<th align="right">mean</th>
<th align="right">var</th>
<th align="right">channel</th>
<th align="center">sderr</th>
<th align="right">lcl</th>
<th align="right">ucl</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">15.58</td>
<td align="right">9.352</td>
<td align="right">Red</td>
<td align="center">0.1774</td>
<td align="right">9.004</td>
<td align="right">9.70</td>
</tr>
<tr class="even">
<td align="right">27.05</td>
<td align="right">14.539</td>
<td align="right">Red</td>
<td align="center">0.1652</td>
<td align="right">14.215</td>
<td align="right">14.86</td>
</tr>
<tr class="odd">
<td align="right">46.97</td>
<td align="right">23.550</td>
<td align="right">Red</td>
<td align="center">0.1754</td>
<td align="right">23.207</td>
<td align="right">23.89</td>
</tr>
<tr class="even">
<td align="right">81.55</td>
<td align="right">39.219</td>
<td align="right">Red</td>
<td align="center">0.2610</td>
<td align="right">38.707</td>
<td align="right">39.73</td>
</tr>
<tr class="odd">
<td align="right">141.59</td>
<td align="right">66.488</td>
<td align="right">Red</td>
<td align="center">0.4710</td>
<td align="right">65.565</td>
<td align="right">67.41</td>
</tr>
<tr class="even">
<td align="right">245.82</td>
<td align="right">114.034</td>
<td align="right">Red</td>
<td align="center">0.8540</td>
<td align="right">112.360</td>
<td align="right">115.71</td>
</tr>
</tbody>
</table>
</div>
<div id="model-sum" class="section level2">
<h2><span class="header-section-number">3.2</span> Model Summary</h2>
<p>To get the model summary, we call the <code>my.obj$print.model.summary()</code> function.</p>
<p>As the source data is grouped by <code>channel</code>, there is a model fitted for each one of them. This fact gets reflected in the summary, which correspondingly, shows four sub-summaries.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get a data frame with the model predictions</span>
my.obj$<span class="kw">print.model.summary</span>()
<span class="co">#&gt; #-------</span>
<span class="co">#&gt; # Model Name: &quot;standard&quot;</span>
<span class="co">#&gt; #</span>
<span class="co">#&gt; # Call:</span>
<span class="co">#&gt; # lm(formula = var ~ mean + I(mean^2), data = model.src(&quot;std.var&quot;))</span>
<span class="co">#&gt; #-------</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ##--  channel  :  &quot;Red&quot; --##</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -189.59   -7.06   -3.86    7.76  221.08 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)</span>
<span class="co">#&gt; (Intercept) 9.11e+00   7.89e+00    1.15     0.25</span>
<span class="co">#&gt; mean        4.33e-01   1.02e-02   42.57  &lt; 2e-16</span>
<span class="co">#&gt; I(mean^2)   1.53e-05   1.75e-06    8.75  2.5e-13</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 50.9 on 81 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.997,  Adjusted R-squared:  0.997 </span>
<span class="co">#&gt; F-statistic: 1.31e+04 on 2 and 81 DF,  p-value: &lt;2e-16</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ##--  channel  :  &quot;Green R&quot; --##</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt; -397.4  -14.7   -9.0   13.3  467.7 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)</span>
<span class="co">#&gt; (Intercept) 1.21e+01   1.51e+01     0.8     0.42</span>
<span class="co">#&gt; mean        3.98e-01   8.72e-03    45.6   &lt;2e-16</span>
<span class="co">#&gt; I(mean^2)   6.96e-06   6.75e-07    10.3   &lt;2e-16</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 97 on 81 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.997,  Adjusted R-squared:  0.997 </span>
<span class="co">#&gt; F-statistic: 1.57e+04 on 2 and 81 DF,  p-value: &lt;2e-16</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ##--  channel  :  &quot;Green B&quot; --##</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt; -405.9   -9.3   -3.8    5.5  436.1 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)</span>
<span class="co">#&gt; (Intercept) 4.66e+00   1.44e+01    0.32     0.75</span>
<span class="co">#&gt; mean        4.07e-01   8.29e-03   49.13   &lt;2e-16</span>
<span class="co">#&gt; I(mean^2)   6.63e-06   6.39e-07   10.38   &lt;2e-16</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 92.5 on 81 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.998,  Adjusted R-squared:  0.998 </span>
<span class="co">#&gt; F-statistic: 1.78e+04 on 2 and 81 DF,  p-value: &lt;2e-16</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ##--  channel  :  &quot;Blue&quot; --##</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt; -426.7  -10.5    6.2   12.0  280.7 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)</span>
<span class="co">#&gt; (Intercept) -1.03e+01   1.33e+01   -0.77    0.441</span>
<span class="co">#&gt; mean         4.99e-01   9.47e-03   52.67   &lt;2e-16</span>
<span class="co">#&gt; I(mean^2)    3.05e-06   8.95e-07    3.41    0.001</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 86 on 81 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.997,  Adjusted R-squared:  0.997 </span>
<span class="co">#&gt; F-statistic: 1.58e+04 on 2 and 81 DF,  p-value: &lt;2e-16</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ##--  channel  :  &quot;Green Avg&quot; --##</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#&gt; -218.9   -9.9   -4.5    6.2  366.8 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)</span>
<span class="co">#&gt; (Intercept) 6.80e+00   1.25e+01    0.54     0.59</span>
<span class="co">#&gt; mean        4.03e-01   7.24e-03   55.68   &lt;2e-16</span>
<span class="co">#&gt; I(mean^2)   7.66e-06   5.59e-07   13.71   &lt;2e-16</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 80.7 on 81 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.998,  Adjusted R-squared:  0.998 </span>
<span class="co">#&gt; F-statistic: 2.41e+04 on 2 and 81 DF,  p-value: &lt;2e-16</span></code></pre>
<p>Because we did not specify a model name in the call to the <code>my.obj$print.model.summary()</code> function, it has returned the <code>standard</code> model summary. To get the summary for the <code>weighted</code> model we fitted before, we must call the <code>my.obj$print.model.summary()</code> function specifying that model name.</p>
<p>By default this function prints the summary of each fitted <code>channel</code>. You can use the <code>select</code> parameter to choose which specific models summaries you want. You can pick them by index value (between 1 and 4) or by <code>channel</code> label. For example, lets get the summary for the <code>Blue</code> channel in the <code>weighted</code> model:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get a data frame with the model predictions</span>
my.obj$<span class="kw">print.model.summary</span>(<span class="st">'weighted'</span>, <span class="dt">select=</span><span class="st">'Blue'</span>)
<span class="co">#&gt; #-------</span>
<span class="co">#&gt; # Model Name: &quot;weighted&quot;</span>
<span class="co">#&gt; #</span>
<span class="co">#&gt; # Call:</span>
<span class="co">#&gt; # lm(formula = var ~ mean + I(mean^2), data = model.src(&quot;std.var&quot;), weights = 1/mean^2)</span>
<span class="co">#&gt; #-------</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ##--  channel  :  &quot;Blue&quot; --##</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Weighted Residuals:</span>
<span class="co">#&gt;      Min       1Q   Median       3Q      Max </span>
<span class="co">#&gt; -0.04776 -0.01711  0.00011  0.01294  0.04738 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)</span>
<span class="co">#&gt; (Intercept) 1.57e+00   3.20e-01    4.92  4.5e-06</span>
<span class="co">#&gt; mean        4.76e-01   3.54e-03  134.23  &lt; 2e-16</span>
<span class="co">#&gt; I(mean^2)   5.71e-06   7.78e-07    7.34  1.5e-10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 0.0206 on 81 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.998,  Adjusted R-squared:  0.998 </span>
<span class="co">#&gt; F-statistic: 1.74e+04 on 2 and 81 DF,  p-value: &lt;2e-16</span></code></pre>
<p>This function calls the <code>base::summary()</code> function corresponding to the model family used for the model fitting. Those functions accepts other parameters you can also specify when calling to the <code>my.obj$print.model.summary()</code> function.</p>
</div>
<div id="model-obj" class="section level2">
<h2><span class="header-section-number">3.3</span> Model Objects</h2>
<p>The R functions that actually fit the models, like <code>lm()</code> or <code>lmrob()</code>, return an object which can be used in other R functions supporting them.</p>
<p>As a trivial example, lets say we want to predict the <em>variance</em> (<code>var</code> variable), according to our <code>standard</code> regression, for the <code>Blue</code> channel, corresponding to <code>mean</code> values between <code>1,000</code> to <code>2,000</code> in steps of <code>100</code> (like <code>1000</code>, <code>1100</code>, …, <code>2000</code>) .</p>
<p>As the prediction for those specific <code>mean</code> values are not available through the <code>my.obj$get.model.predictions()</code> function, we have to compute them using the model object as argument for the <code>predict()</code> function.</p>
<p>The function <code>my.obj$get.model()</code> returns a list with the model objects for all the channels fitted in a given model. As usual, without any argument, this function returns the model objects for the <code>standard</code> model.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get a list with the 'standard' model fitting objects</span>
std.model &lt;-<span class="st"> </span>my.obj$<span class="kw">get.model</span>()
<span class="kw">class</span>(std.model)
<span class="co">#&gt; [1] &quot;list&quot;</span>
<span class="kw">names</span>(std.model)
<span class="co">#&gt; [1] &quot;Red&quot;       &quot;Green R&quot;   &quot;Green B&quot;   &quot;Blue&quot;      &quot;Green Avg&quot;</span></code></pre>
<p>Now we can use the <code>Blue</code> channel model object to compute our desired predictions.</p>
<pre class="sourceCode r"><code class="sourceCode r">preds.mean &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">mean=</span><span class="kw">seq</span>(<span class="dv">1000</span>, <span class="dv">2000</span>, <span class="dt">by=</span><span class="dv">100</span>))
<span class="co"># Get the predictions for the Blue channel using the corresponding model object</span>
preds.var &lt;-<span class="st"> </span><span class="kw">predict</span>(std.model[[<span class="st">'Blue'</span>]], <span class="dt">newdata=</span>preds.mean)
preds &lt;-<span class="st"> </span><span class="kw">data.frame</span>(preds.mean, <span class="dt">var=</span>preds.var)</code></pre>
<table>
<caption><strong>Customized Model predictions</strong></caption>
<thead>
<tr class="header">
<th align="right">mean</th>
<th align="right">var</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1000</td>
<td align="right">491.6</td>
</tr>
<tr class="even">
<td align="right">1100</td>
<td align="right">542.1</td>
</tr>
<tr class="odd">
<td align="right">1200</td>
<td align="right">592.7</td>
</tr>
<tr class="even">
<td align="right">1300</td>
<td align="right">643.3</td>
</tr>
<tr class="odd">
<td align="right">1400</td>
<td align="right">694.0</td>
</tr>
<tr class="even">
<td align="right">1500</td>
<td align="right">744.8</td>
</tr>
</tbody>
</table>
<p>The <code>my.obj$get.model()</code> function has a <code>select</code> parameter to get a list with only selected models, i.e. for specific channels. We can select the channel by label or by index. For example, we will use the <code>confint()</code> function, to get the confidence intervals for the coefficients in the regression for the <code>Red</code> channel.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Confidence intervals for the 'Red' model parameters (from the 'standard' fitting)</span>
models &lt;-<span class="st"> </span>my.obj$<span class="kw">get.model</span>(<span class="dt">select=</span><span class="st">'Red'</span>)
<span class="kw">confint</span>(models[[<span class="dv">1</span>]])</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">2.5 %</th>
<th align="right">97.5 %</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.2809</td>
<td align="right">22.6334</td>
</tr>
<tr class="even">
<td align="left">mean</td>
<td align="right">0.4251</td>
<td align="right">0.4353</td>
</tr>
</tbody>
</table>
</div>
<div id="list-query-and-remove-fitted-models" class="section level2">
<h2><span class="header-section-number">3.4</span> List, Query and Remove Fitted Models</h2>
<p>The <code>hvdvm$model.list</code> variable provides a list with the models already fitted.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># List the models fitted so far.</span>
my.obj$model.list
<span class="co">#&gt; $standard</span>
<span class="co">#&gt; [1] &quot;lm(formula = var ~ mean, data = model.src(\&quot;std.var\&quot;))&quot;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $weighted</span>
<span class="co">#&gt; [1] &quot;lm(formula = var ~ mean, data = model.src(\&quot;std.var\&quot;), weights = 1/mean^2)&quot;</span></code></pre>
<p>The <code>my.obj$exists.model</code> function help us to find out if a particular model exists.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># We have a model named 'weighted'</span>
my.obj$<span class="kw">exists.model</span>(<span class="st">'weighted'</span>)
<span class="co">#&gt; lm(formula = var ~ mean, data = model.src(&quot;std.var&quot;), weights = 1/mean^2)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="co"># But we dont have other one called 'log-log'</span>
my.obj$<span class="kw">exists.model</span>(<span class="st">'log-log'</span>)
<span class="co">#&gt; The model&quot;log-log&quot; does not exists.</span>
<span class="co">#&gt; [1] FALSE</span></code></pre>
<p>To remove a model, we call the, <code>my.obj$remove.model()</code> function. In this case, for security reasons, there is no default name, you must be specify it.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># We have a model named 'standard' ...</span>
my.obj$<span class="kw">exists.model</span>(<span class="st">'standard'</span>)
<span class="co">#&gt; lm(formula = var ~ mean, data = model.src(&quot;std.var&quot;))</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="co"># .. but we don't want it any more</span>
my.obj$<span class="kw">remove.model</span>(<span class="st">'standard'</span>)
<span class="co">#&gt; The model with name&quot;standard&quot;has been removed.</span>
<span class="co"># Now, it doesn't exists</span>
my.obj$<span class="kw">exists.model</span>(<span class="st">'standard'</span>)
<span class="co">#&gt; The model&quot;standard&quot; does not exists.</span>
<span class="co">#&gt; [1] FALSE</span></code></pre>
</div>
</div>
<div id="plot" class="section level1">
<h1><span class="header-section-number">4</span> Plotting</h1>
<p>There is nothing like a good plot to let the data speak by itself, showing us its features, validating our assumptions or raising new questions.</p>
<p>With the data we get through the variables <code>my.obj$var.df</code>, <code>my.obj$cov.df</code>, <code>hvdvm$photo.conditions.df</code> and the <code>my.obj$get.model.predictions()</code> function, we can built any kind of plot we want. However the function <code>my.obj$plot()</code> provides an easy way to plot the data and a model already fitted, either together or individually.</p>
<p>By default, without any argument, the <code>my.obj$plot()</code> function just plots the standard data model observations. Using the <code>model.name</code> parameter, we can include a fitted model in the plot. As a convenience, if we set this parameter to <code>TRUE</code>, <em>the default model</em> will be plotted. As we already saw, this is the one with the same name as the <code>fit.model.name</code> option value, which by default is <code>standard</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Rebuild the previously deleted 'standard' model</span>
my.obj$<span class="kw">fit.model</span>()
<span class="co">#&gt; The model &quot;standard&quot; was successfully fitted using:</span>
<span class="co">#&gt; lm(formula = var ~ mean, data = model.src(&quot;std.var&quot;))</span>
<span class="co"># Plot the 'standard' model</span>
my.obj$<span class="kw">plot</span>(<span class="dt">model.name =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>For the <code>model.name</code> parameter, instead of TRUE, you can use the name of the fitted model you want to plot.</p>
<p>The parameters <code>fit</code> and <code>confid</code> are relevant only when a fitted model is included in the plot. The <code>fit</code> parameter set to TRUE draws a line over the values predicted by the model. The <code>confid</code> parameter set to <code>TRUE</code> draws a semi-transparent area between the confidence limits of the predicted values. By default they are set to <code>TRUE</code> and <code>FALSE</code> respectively.</p>
<p>Using the <code>xlim</code> and `<code>ylim</code> parameters, you can force the <code>my.obj$plot()</code> function to draw only the particular area of the plot you are interested in. They must be a vector of two numeric values: the lower and upper limit of the corresponding axis.</p>
<p>You can also specify the axis labels with the parameters <code>xlab</code> and <code>ylab</code>. Furthermore, you can set the main and secondary titles with the <code>main</code> and <code>subt</code> parameters. For further customization you can set the <code>plot.point.size</code> and <code>plot.line.width</code> option values, which are used for the size of the points and the width of the lines in the plot. The <code>color.pallette</code> option is a vector with the color pallette used in the plots. You can set it to NULL to use the ggplot2 default pallette or to whichever colors you want in the plots.</p>
<p>The <code>my.obj$plot()</code> function returns a <code>ggplot2::ggplot</code> object which you can use to customize the plot at your taste. To this effect tou can set the <code>print</code> parameter to <code>FALSE</code> to avoid the plot rendering, customize the received ggplot object, and print it whenever you are ready.</p>
<p>For example, the <code>standard</code> and the <code>weighted</code> plots are very much alike to each other, except in their interception to the <code>y</code> axis, close to the axes origin. To notice this, we will “plot” both models without printing them, with the <code>x</code> axis limits to the <code>0, 300</code> range and the y axis to <code>0, 150</code>. We will call to <a href="https://github.com/hadley/ggplot2/wiki/Share-a-legend-between-two-ggplot2-graphs">this function</a>, using those plot objects as arguments, to draw both plots sharing the same title, <code>y</code> axis label and legend.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get the OLS linear regression plot</span>
std.plot &lt;-<span class="st"> </span>my.obj$<span class="kw">plot</span>(<span class="dt">model.name=</span><span class="ot">TRUE</span>, <span class="dt">print=</span><span class="ot">FALSE</span>, 
                  <span class="dt">xlab=</span><span class="st">'Mean'</span>, <span class="dt">ylab=</span><span class="ot">NULL</span>, <span class="dt">main=</span><span class="ot">NULL</span>, <span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">300</span>), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">150</span>))

<span class="co"># Get the weighted, robust, linear regression plot</span>
weighted.plot &lt;-<span class="st"> </span>my.obj$<span class="kw">plot</span>(<span class="dt">model.name=</span><span class="st">'weighted'</span>, <span class="dt">print=</span><span class="ot">FALSE</span>, 
                  <span class="dt">xlab=</span><span class="st">'Mean'</span>, <span class="dt">ylab=</span><span class="ot">NULL</span>, <span class="dt">main=</span><span class="ot">NULL</span>, <span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">300</span>), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">150</span>))

<span class="co"># Use both plot objects for detailed customization.</span>
<span class="kw">shared.legend</span>(std.plot
             ,weighted.plot
             ,<span class="st">'Two plots sharing title, y label and legend'</span>
             ,<span class="st">'Variance (ADU^2)'</span>
             )</code></pre>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAJACAMAAABlpiR1AAAB1FBMVEUAAAAAACsAAFUAKysAK4AAVVUAVaorAAArACsrAFUrKysrK1UrK4ArVaorgIArgKorgNQsly4tkE8tkUktkUotlTUtlTctljUtlzAuj1AukFEukUoukkkvgJwvlzcvmDEwergwgJ4wkVEwk0sxe7ExfLIyfpwyf5wygZ8zeLUzebYzfLkzfbI3fJs4llM4nDo5njs7dK47da87d7E7epU7gbs7hqFPbKpVAABVACtVAFVVKwBVVQBVVVVVgIBVqqpVqv9aq1xdY5JdZZRdlcNerl9hmMdhsWJ/Wqd/f39/f5R/f6p/lL9/qtSAKwCAKyuAK1WAVQCAgCuAgFWAqoCA1KqA1P+BW6mJYKuLYa2SUaSUU6WUf3+Uf5SUf6qUlH+UlL+UqqqUv+qVU6aYTqOZTqKZUaSaUaSdS5udWKeeWKifWamqVQCqVSuqVVWqf3+qf5Sqf6qqgCuqqlWq1ICq1P+q/6qq/9Sq//+rQoKrRISrTo6rdLSsT4+tT4+vd7e/lH+/lJS/6v/UgCvUqn/U/6rU///kGhzkHR/kJynkTU7lKCrl5eXmKCroUFLqv5Tq1NTq///rU1Xy8vL/qlX/1ID/1Kr/6r///6r//9T//+r////6WV1oAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO2djX8bR36fIUWhrDZNqEa2k15MM1XdJo1L5tpSpdzrnejwfIZlMb0kZdqe7bMvKlM2aKVrz40ss7WPVCgRRkXzCIqE9p/tzsy+zO7OzM5vZgEMFt/nYxPvwHewj+ZtZxedCICA6Uw7gIKL9Y7g8qP6p97Jbwzv1D+n5t7kbfiD6aXdp59dLT/V/OLhpe36JylfMl+EKCjj7BWrjSFvX922pjggPZ1dQtCpA0F1T4egQRC0oKOthXizdOJN2LtyGF/pdBbTR//iKr8h2mL+wFl8z5VD9reTbPPk+sX696+K+3risYvbf965/L+5fz9Yzx659Od8+/O3+bv1O+llFB3kn8voxZmiA/ZHfHrypmdXv381eV7ygsy99GOzTzvIPk08KfuELEb2FoqXzBdBCxodxF4edBZiUxe5qBfrC+LRq/ENcced7AF2nddjQ2Foev1iPd6wB/H/TC12ebEev62oINNH4t7usJMrI//PHj+7mhs6jJ872rqTPjV907Or6fPSF6SC5h+r+bTsE7IH8rdQvGS+CFtQ1qj1/l1cL76yzRzNWjkhTKxvvH2zB7is0rgqvX6xvshtvbi9Lazldwj/xCOiee4pBeXPkd+X/zt4JX1q9qZJpMuPshckghY/VvFp2QuyB6S3ULxkvghbUG7AX1x7lG29pKcnLoSU2QPCKNkkcZ2Lktgy7CTVbt7FjP8I/YZKQYdJw593FeMakdXsUfFNs0jZC6TuZeFjy5+WvSB7oPgW5ZfMF2ELGvUWz37j725vx04IAZKNntWvmaC8JrrDuq15HzS5nvkY9+Mu/+KqQtADk6DJlFcuaGxLT7T48puKSPHf7AWpoOWPLX9a9oLsgeJblF8yXwQu6MGV/7kQ9X5rK62h0hq0IqhcY8lNYU80/VH6xDOVoPU1qMzF7f9wW9wnv2mpBo3yf0zlj1XXoFHaj6i8BWrQEEkEPbv2vcXo4NfiG4o+aK/aB+WU5p4KW3moauKFXAeaPmh5Hmi09fdEC194U7lbXIhR+djyp2UvyB4ovkX5JfNF4ILyYeyww4QojuL53eVR/KIQOLE4vS5v5Yv1zmJV0NK4ejEbQaVj7OL45CCddZLfNIuUvUCqQYsfe8CfWRzF808ojOLlyr/wkvkicEH5NksmeeR50KvJ1KY0D8pmEa8csutZkymuy33QS9vyZs+HT724n/i/kvFVL5n/7EnzoHxqaaGUrfCmWaTsBVIftPixynlQ/uFZDPktyi+ZL0IV1Ex1t00DyFNUyg/9B+mV3zhs/tOtY8wZEDR9OzH5aGCYPn5Q88TxxpgzIChjWJxIUvPft5PPvjKuCtQqxpwxm4KCuQGCgqCBoCBoICgIGggKggaCgqCBoCBoICgIGggKggaCgqCBoCBoICgIGggKggaCgqCBoCBoICgImiYFHSjR3E3ltJm3CStNYHGUaRoUxAUI6gQEnRQQ1AkIOikgqBMQdFJAUCcg6KSAoE5A0ElBFvT8k8P4z0fd7ocn0cuvu3elQ3AJpaYDQQ1A0IzRA6bki3v8xpN77L8MQqnpQFADEDTluPsZq0Gf/IzdGD3cFxVqAqHUdCCoAQia8u0JM/LlL/fZDXaVSRpFXc4Y4oF5x6kPOnr40+4H+5KgAsI/SzqoQQ1kce7fv+/xNi2oQYWg5x/vR6OfH0JQb5qNc5/TcJpGdaPjNoqPeAcUgnrTYBxfO3VpmnPNCR9BMUjypqk49xvQs0WCvrgbN/OfnmCayZtm4jRi56BFgkbHXT5DP3qAiXo/GojTlJ2DlghqgFBqOhBURdK0Yx7UCkKp6UDQKlnlCUGtIJSaDgQtITftENQKQqnpQNACxZ4nBLWCUGo6EDSnMi6CoFYQSk0HgiaopjwhqBWEUtOBoBz1pBIEtYJQajoQ1DDlCUGtIJSaztwLatqbCUGtIJSazpwLat5fBEGtIJSazjwLWrs3E4JaQSg1nbkV1GahEgS1glBqOnMqqN1SEAhqBaHUdOZRUOuFShDUCkKp6cydoJQ1yBDUCkKp6cyZoLRVnhDUCkKp6cyToOQ1yBDUCkKp6cyPoA5L5CGoFYRS05kTQd0O4LCK0+/3qWn4ndMFgjoxHkGdj820idPv1xoKQT1ov6AeR79BUCsIpabTckH9js20F9QoKQT1oM2Cep92wboPaq5GIagH7RW0gQPbreNAUMtS02mpoM2cdsEuzt7eXiroxsaGKo3qVQ0K4kKTgp4q0dw9JYJKk552YTJ8xXj+/Hl89YeM6jOUX06DgriAGtSJJtI0eM4aqzh7DHF1Y0NZhba9BlV/LwEpMQgnTWLnJONAUPX3EooSgiDS5KP2icbJ/JzXPqj6awlCiYwA0shNewBxJCCoBy0RtNTxnF6czc3Nyn0Q1INWCFoZF004TjoJurm5tqkwFIJ6MPuCqkbtk42TzoLGbq6tQVBTqenMuKCavZkQtA4I6gQxjXbK0zfO06dPCXEkQVkbb5emQUFcgKBOUNKYJuT94jzlEOKkfdCVlRXrNA0K4gIEdcI6Tc1CJY84mZ2UOIKNBKs0DQriAgR1wjJN7d5M5ziynk6CrioMhaAezJ6gNvva3eIU7bSMIwFBa0tNZ8YEtVyDbBlH2kmZ2Pm08Dj1y9G08RDUg5kS1Hqhkl0caZmHws76OErQBzWVms7sCEpZRmcv6G6sqNrOmjgEIKgHMyIo8fAia0F3d1VNe20cGhDUg5kQlLwG2TJOqicxDhUI6kH4grqskLeLI+yUBko2cRyAoB6ELqjbARw2cYSeuwY/IagdhFLTCVpQ58OLauOkladJTwhqCaHUdMIV1Oe0C+Y42bioxk/ql6NarKxN06AgLkBQJ/I0fsdmmuJUx0Xaky7QvpxN1WJlbZoGBXEBgjqRpLG38/r166Q4qlG7/rQgENQK9dfRWkHtm/brAvs46kmlfv/o6Egbxx4IWl9qOqEJ2oCdmjjaKU/m55GyCkUf1Ar1t9FGQZuxUxXHtL9owPxsQlDrNPzO6UIW9PyTwyh6+XX3bn6RQig1nXAEtW7a6+ysxjHvL9J3QiFoxugBU/LJPfZfepFCKDWdUARNzvdV+zyFncvLy6Y4NXYKPZsYJGlpgaDH3c/iGnT0cJ/VpMlF9iCh1HSCEDSrO2vSqO1crhqaxTE27RzTqT0haMq3J8zIcyFpcpE9SCg1nQAElZp2UxprO/M4tXYOIKgtSkG7nDHECwdhZ+3TEjvluxI7tS8Rdta+868YFkFbRjOCCgj/LOlMtwYtj4vUaSh1ZxrHpvIc8Jkhw8m7UYPmzKGgilG7Ig3dTrumnaOdW9fGcaE1gs7TIEk9qVRO426njZ76c4Fo4jjSGkHnZ5pJN+VZSGNtp9xIJz1PyxybmyuvvbaiNRSC5nBBRw/4DH1ykUIoNZ0pCGqYkM/TEOrOfBye1Z3WcVaWXltaWoGgXhBKTWfighr3FyVpaC17KqjUtFvH2VhdgqC+EEpNZ7KC1u3NZGnI/U4uaLHjaS/ozZvfWVKe8SuN0wAQ1INJClq/s/2UaidfE9+vjIusv5zNWzdvav2EoHYQSk1nYoJaLAWhj9n5uUEUo3Z7QY3zTBDUCkKp6UxG0PqVStddZpQGSjvr4+RA0AYglJrOJAS1t1NKU2/nQD8jb//lYKLeH0Kp6YxdUFs7C2kIdu6oDs2cgS+nQUFcgKCCOj1LDTtPQ7Dz6d7ururUC6QvR/3zcFkcfyCoB+PcBkQ7eRorO7Omfa8BQTU/sCniNAIE9WB826BGT9WBGzQ7B8n56RQnX4Cgdcy7oGO2MxsXac4NAkHrmGtBayaVDHbWpbFdqIQ+aB1zLKiznXVpCMvogv1ypDuny7wK6mOnOY2VnmllGOaXU7xzusynoEY9bfqdujSWlWfWnQzxyynfOV3mUFBvO3Vp7JfIQ1Br5k5Qk572Y/Y0jTQ4J/Q8Bxurq6sQ1Ir5ErQZO/M02Q8YUeyM689VCGrLHAlqmlSizncWBSXpydr31VU08ZbMjaCJnao0DrPxkqA0OwcQlMZ8CJrXnZU0bvuK0jSUQ4dTkp9yHSjjuAFBrSCUmo7HNpCb9mIa5z2ZIo2DnQxpj9D0vxwZCOqB6zYodTylNO772XkaRzuLQNA66gS9WO8s2L4XodR03LZBZVyUpvGxc+DWtOfkq+MhaB31NehBp9NZtHovQqnpOGwD1aidp/G007fylI4vgqB1WDXxlo4SSk2Hug00k0rRtO0cQFASln1QpujlRzVPOlWiuXu8CDur9yd2Fu5LV9BZIfRMbnz11X/76qvCw++99179e7z3Xva0qXw5WpRpvBXzw0bQYWznnWi0deXQ/DzCP0s6hEpCNyHvW3dKlSdPUz2OI64ZV1Z0izbz56APak+toPEoqSPMHNZVoYRS07HeBho9EzsLaRzsfCqlUQm6srS0ajS0eIA7BK2jfhR/adv2vQilpmO3Dcx2FtKQ7Cz3PLWCLsWCrpreCILSaNM8qGZcVGjZkzQkORXjIpEmNrR0qNHma69ZCLqGJt6a9ghqYWeShmanctiuS8Oa+CVzJ5T7iVG8LS0R1M5OlqYBOw1p2CBJfxK67EkQ1JpWCKrUUz9mt/5M/f4ilkb1qxubt27dMpxDKXkSBLVn9gU1VZ6Fu4h2Jnru7mrSKH9YayMWtGaaaYBdnRRmXFD1uMhgp22a/IxKqhOC6AXVn1xBCQStY6YFtW3apbrTLk12SqWdnR0IOlVmV1AHO+3SyKdUMgiq7IMO4ia+/hNyIGgdsyqoSs9aOy3SFMdFfCreIk1GzS/CVYCgdcykoHZ2KncVmdOUR+3ZUZumNDIQtGlmT1DVuMjSTnMa1ZySxk8IOjFmTVCCnbQ0tGWeWiNofkLQWmZKUF87tWnIi5AbMgKC1jJDglb1pNqpTuNyfBEEnRSzImgjdqrSuB3BAUEnxUwIWh0XudlZSaO2s390pJjhLABBJ8UMCJocX5Tf4WxnMY2uaY/9TA1dW1tTvw0EnRShC5rVnek28LFTTqNv2pmgz7iha2s6QyHopAhaULlpF9vAz84sjbHjGQv6LBa0D0HFndMlXEFLHc/Tqp20o4ryNHXjoj6rQCFoeud0CVXQ2mGRi50sjdWoPVmptPlHv/8H6rVJEHRSBCnouOxMx0WqZUhFhJ/s+A316jkIOinCE7Qyp9SUnYPUTmafbie7DATld06XwATV25lsA0874zRcUO0yJRkIyu+cLm6Cnn/U7X54Er38untXOh0OodRqNE07v8q2gbOd+bgoTnN0dKRfR1dgZel3NKcJgaCTwk3QF/f4xZN77L8MQqkVmOyMOW3ATp6mz+Y59zTHGhXIf4yjAgSdFG6CPvkZ+zt6uB+df5JXoYRSK7DpeNp+0xKl/UWR2FH05e7OjnKpvAwE5XdOFydBX/5yn10wOZmkUdTlNBYqsTO7Lex0eSdhZ+GuX/2/mP/7N3/zV3/1n2pe/KM/jvmRy8eCxnASdPTwp90P9iVBBYR/lmZUg3aHSkI15Sn6oP0vd3/yk5/8x7q1xRu6ChQ16MRwEvT84/1o9PPDsQmak3c8ydtAPSPP0rBppt2f/Of33yctfi8AQSeF8zRTbOa4BS0Mi2jbQLu/KEvz/vvvv/22czQIOil8BG12kFSiPGgnbAPTEvksza23336bdAh7AQg6KZwEfXH3MDr/9KTZaSYZxZSS9TYw72zPBb1FPMdCAQg6Kdxq0OMun6EfPWh2oj5DMaVktw1kO/dUU515mtdffRV90CLtEVQNodR0LLZB6awgyhN/ZWlWl2KcDYWgk6I9glbOCgJBqUBQD8zbQNHxhKBkIKgHpm2gHhfV9EFXPfyEoBNj9gXN7SydD3Fv78vqyuSwjAgsDgT1QL0N5HFR6Yyye3uPHz+uGBqWEYHFgaAeqLZBsWnn6+jyB/e+fPzFF88gKAEI6kFlG1Q6nv2jZ88kIfe+/CIW9Kj0qrCMCCwOBPWguA2UezNjP+Uq9MvH/+bdd1GDEoCgHsjboGhndvAGW4ks15h/8q//6T/7V+NP40NYcSCoB9k2qEzIZ4cX9Y+KZ/26+cYb/+QPSlNJYRkRWBwI6kGyDapNu3R4UXGeaePGjRtvvAVB7YGgHrBtoJyQZzuMlIcXrf5ebChqUAIQ1INT3SpP9ltGygM0V2/+3m//dvnUSmEZEVgcCOqOfpWntgbdWL15s/LLw2EZEVgcCOqIcQ2y/hB31a8ShmVEYHEgqAtJ067dBnYnCWkqTQIEnRShC5pVnvptQPEzMCMCiwNBichN+zi3AR0IOinCFbQ0aoegBiCoFYRS11JeqNQvbAPlL2FbEZYRgcWBoJaUR+1soefz/Obmu+8+czU0LCMCiwNBrSjpGY+BioKu/fM//O67lYWeloRlRGBxIGg9lSlPNs35pSzo5o0bN/7wuxBUBoJaQSi1GtXezN2dnZ3do6OjbBssxYLe+O4z+3d1TWMCgk6KJgU9VaK5u0oyIV/ir2P+yzfffPM8veP1V2NB/8T2TZ3TTIaw4ijTNCiIC6HUoNq9mawG/a9xDfpNesebr7/66u9Yvad7mlpQg06KMAQ17GxnfdDHsqAbb775pua0shaEZURgcSCoEvPp6PgoPhY0H8Wr1oBYE5YRgcWBoAp0ehbm4ssT9e6EZURgcSBoBW3l2S8cQjzArk4jENQKQqkFhrb9GUO+A4IagKBWEEo9MHY919bWICgFCGoFodTGkRH7lfZ/yc7CIN8JQQ1AUCsIpR6Yxu1rb7311lrxHAwQ1AgEtYJQaiNvvPHGW2+V74SgBiCoFYRSF+FTStmRGxs3b9y4UfkBDghqAIJaQSh1AX7KGvbrrsLQjddjbpafBEENQFArCKUuwMZDj3d20t8f3liNBa3sLIKgBiCoFYRSy7A5+WeSoAP2I9gQlAIEtYJQahl+4ln2A+7ZGWxUe9shqAEIagWh1DLi1N3K3+SQgKAGIKgVhFIXZjmtjtGEoAYgqBX2pT46Ku3IrAeCGoCgVtiXmvlJPOwNghqAoFbYlxqCJoQVB4JmMD8haGhxIGgO+eQ1ENQABLWCUGo6ENQABLWCUGo6ENQABLWCUGo6ENQABLWCUGo6ENQABLWCUGo6ENQABFXz8uvu3cP8JqHUdCCoAQiq5sk99l8GodR0IKiBtgs67Aju0F47ergfnX+SV6GEUtOBoAZaLejFemdBXB9tdS4/IryWyckkTSGUmg4ENdBmQS/ekZ0s3qohF7TLaTobAF59UNSg3oQVJ8ga1OO1ENSbsOIEKuhBOjw6IPVAMUhqgLDieAp6sX7lsP5ZbKxDEK0THVzajt+ajZOogmKayZuw4gQp6Ghrkb8mfm+yoKMHmKj3I6w4QQp6sS5mP3tXDsmCliCUmg4ENTBtQc+udjoLsaC/dpX3FtlN3i5f+TG7nV6yGc1O7LBLDRrTW4Cg1kBQGdZDHHYWL9YvbbNalN0Ul+nt9FL8T+2DJs+O9YagtkBQmaEYZOfyjbY6sUzp7fQydjhiQx6ioPEoXjTypNfZE9b8fVhpAovjmuagKGhc1cW1aVXQg2SHOlXQMdOObTAmworjmqZUgw5Fv/NQWYNG5GmmcdOObTAmworjmoYZyPugqYgLcaVarUHTSxdBDxYds9XTjm0wJsKK45wmHcUnfdBe3AP9MzEwksXko/j4gi5orzM+P9uyDcZDWHHCSiPoMD0XxvkJYZU6rDSBxQkrjaDDZuinHQIAHeOvQQHwYPx9UAA8GP8oHrSfUyWNvPX450FB+xmnoGxuSoDBEnBkIjXoWHbFl07tMD34yv8kzdRDnX/U7X4eTJwX3e4H+35pJtPEj7aaH82X1txPjdED9q0naaYdavTg8+hF7EQYcc4/3o9exN+OT5oJ9UEPGm/ky0ctTYvj7mfJAX5xmqmHevHhSVxRfR5KnIhvJ680kxK08Ta+fNzntPj2hCVJ0gQRKq5FA4pz/OGJVxoI6k1ogvoq0STnH32w7/flaAVlq0g6pYXwF7e3CW893iZ++l9+SmCCHt8NKk7cBx2ToNeYm8W96c6CjmGQFMKXLwhL0GM2bA4njhTDU9Dnz58rBBV/U5wF7TU/zRTCAECQfvFBjEqO+UROMHEaGCQ9rVISNDnkbdjp/DpN0PFO1E97RieDf+lhzOvwiR1GGHHYFNP5pyd+00xmQXsLcfN8h3Uh2UHu7Ewh9ox5V2fp1A7TgwuapJl2qCf8XICfhxLnuCvHcEojtfBSGx+lg6TFpBK9vT2Ma0H3QRIAbhj7oGdXk3M5dC5tHzgJKlp57IoHrphH8cO4TU/GSU41aC85tx0WhQJH6qeZWB80vuHSBx2mz+dVMQB0agQV58Jhp2tiTf1v0mpQafazh0M/gBNaQf3pXKxnLXvzuzrBfDBeQbOGfQhBVYy2kt75EANJDRB0msSCCjF7EFQDBJ0moy2xc+7ine9BUDUQdJrEw8gea+OHV37MBD0Qu0ZYhZqcNvgH6+Qf6QO2SPviy+v2gCAWlM0vR71FtmyMzeKdXV0Ucx7iByjiP7S5vdYxzhq0kXdpNbGgyZ7kHlvtwCvTy4/4/hA2dczvmfM55AkJOvr3qEEVxIKy/SBxLRoLKnZrJD4OxU8E8HYego5b0AM08WrYroyDhbiFZ7vs8h+GZt/XL65CUMb4BR3ytSaNvGPrYIKeXfvbP92Osho0itI1OhCUMWZBxTgJS0U0MEFHW9+Pu6E9seKWMxTrwyEoY6yCstmShUja4wmK8NUK/ByV6Sg+6l3aFpVn/M8agk5kHhSCauGC8h+y6KXzoKz2PGCdoh47EzsENQjKm+c6t1RHJyd0ePcTNSjwQS8o76rXyqU6OjkhOYEt+qDAg8zJ9957ryBo8kObxeOOq6iOTk5IRvGsIsYoHjhyulxFWrDMOPv7/5b/Bh1rx8XF2bU/S6vFekEjPtOEeVDghFbQYdZqs7Y+OfY4uWA7jJPlH9nRyVUKuzr/BwQFLkgtvNTGR4mgPdY6n72ynR57nF68kh1Llx2dXAX74oE/2j5oImBiZXLscXrB7rmW1aCa5Qydi3cK5815B5UoIKMdxSeDpFTQa1KDHpXvGSoHQR3WY03a/tEWeqHABdM00yITS9SXybHHyUVFWf00U74CAgAHDBP1ca3H5tmFg8mxx+KiIig7OrkC+qDAH4OgvkBQ4A8EBUEDQUHQQFAQNBAUzCtC0Hjcf+Wwh/VMwI1x16BDfupbLAkFjoxZULY/ip2bGWe3A26MWVB+2ttYUJz6BrgxoRpUuS8UgFom0wc9wL544MbYp5n4oXc45AM4MnZBAfDBICjhsGPNelAAfNELSjnsWDlIF4Ky4dEQBx4DRzInf/jDHxYEJR12rPyFL3FcPB++K9eLAlDP6fUq9MOOh7qjOtPztmAeFLihFdT2sGPeB1U24ek8KAN7koAbUgsvtfGR/WHH4sQNr+iaeDEDyo9vAoCOtg9KOOxYcwY2MUhKXjKxAoF2oR3FUw47NgySAPDCNM1kf9jxgfawYwC8MEzU2x12bDo/aPom/r+TNFCiuZvKaTNvE1aawOIo03gK6ouYB21m+E4oNR0IaqDlgja1lJ5QajoQ1EDrBW1mnR2h1HQgqIGWC8p/JaABCKWmA0ENtFxQ8RMW/hBKTQeCGpi2oGMk/yEvy1H8+SeH8Z+Put0PT6KXX3fvSlNXhFLTgaAGpi3ouGtQAqMHTMkX9/iNJ/fYfxmEUtOBoAYgaMpx9zNWgz75GbsxergvKtQEQqnpQFADbRc0bePrm/hvT5iRL3+5z26wq0zSFEKp6UBQA20XtHfl8GBBdxb7EsLKn3Y/2JcE7XIaCQRmkDELyibq2cI95c76MszK84/3o9HPD1GDehNWnFBrUDZRL+25N5N2OmMzIag3YcUJVVC2aI+txaMKikGSN2HFaV7Q7HhiK7dUiBX18eiot2jfxL+4Gzfzn55gmsmbsOKMQdD0eGI/QdmvJCYH3NXCq8zjLp+hHz3ARL0fYcXxF/Srr75SCJosqHeiyQXLhFLTgaAGpi7o/SpyDbogr6C3rQoFENQJCFpAL2h6PHEuaHLQsa1UENQJCFpAauGlNj6SjifOBU0OOraVqnOxvkhaLGKAUGo6ENRAKILq+qDrdyRBaUcQowZ1AoIWqBnFi0GSVIMSkM8s4guh1HQgqIHABWXnubn2iJ9p/nJ60LGtVDjkwwkIWqBmov6yGL4fdDq/+c6j9NhjS8SKehzVSQSCFtAK6g95Rb0BQqnpQFADLRe0KQilpgNBDUBQKwilpgNBDbRdUPsV9UYIpaYDQQ20XVDKinoDhFLTgaAGpi3oGCGvqDdAKDUdCGqg9YISVtQbIJSaDgQ10HJBSSvqDRBKTQeCGmi5oKQV9QYIpaYDQQ20XVDKinoDhFLTgaAGWi9oMxBKTQeCGrCK0+/3a54RpKBNrRSJIKgDE4zT79caGqig/Bz3TUAoNR0IaqDNgoqfUGjkN5IIpaYDQQ20W9BI7Ov0X7RMKDUdCGrAvg9qlDRcQSN2lmWM4u2ZRUEZ5mo0aEEj/3XLhFLTgaAG7OLs7e2lgm5sbNim8fPLG7kG9Zyn161pUd89JcJKM9E47JDg//M8pvyrxOY0voZ5gj6oE7NYg+7tiSp0wCtQVRUaaA2KUTydmRVUXJ0lQTEP6sIsCjrI/JypPij2JLkwk4LWEqSgDb4XodR0IKiBPM79+5Yv2dzctEvToCAuQFAnwhRUnFbO8Lx8EnRzU2EoBPUAghrgcWr1zKfpNzfXIKix1HQgqIFTCzsHuaCxm2trENRUajoQ1ICVngVBWRVql6ZBQVyAoE6EJKilnYy0hV9ZWanqCUG9gKBqCHpmbMSCqqbqIagHEFRBaicxDpNzVWEoBPUAglbIK08IaoX62whLibDS2MaRdlJmyE07Nc5Ggk2aBgVxAYI6MVlBpWUeCcQH/ysAAA5OSURBVKWep0sc9EFNpaYz74LuSopWBkbYF28FodR05lzQ3d20Ei3Y+fTp0wbjQFAP5lnQAa9AuaBlPYWhENQKQqnpQNC9PbWdzcWBoB7Ms6CiD6rVE4JaQig1nXkXVG9nc3EgqAdzLaih8nSJo1qsrE3ToCAuQFAnJipopme/31fYSY6jXKysTdOgIC5AUCcmJ6hUeer0hKCWqL+OsJQIK01tHLlt19lJjgNB60tNZw4FVfQ8j46aiIM+aG2p6cydoIrK8+joSH3qL4zirSCUms58CaoetmvPTQdBc84/OYyil1937+YXKYRS05knQXU9Twhaz+gBU/LJPfZfepFCKDWd+RFUN+fZ15/cE4KmHHc/i2vQ0cN9VpMmF9mDhFLTmRNB9cN207lnIWjKtyfMyHMhaXIR393ljCXgXCH0FNeFnvljv2JMJ9Y0ceqDVgQVEP5Z0ml/DVoz54ka1A4Iymhe0Bo9Nzc3DWeXh6A5EJTRsKC1O4y0O38ajdMaQTFIcktTrQN5HEnPp5r9mZubK0uvKc8G4hGnQmsExTSTUxpFLzIqzCrp97YzP19b0hoKQXO4oKMHfIY+uUghlJpOOwWtVJ6618aCLkFQTwilptNGQa31HAw2bn7nOxDUE0Kp6cy4oPyYzIKfBDtjNm/d/M4/Rh/UD0Kp6cy2oJVzgyR6sjgWetYN4yGoFYRS02mToHnlGVnZOYCgjUAoNZ32CEpr21MwD+oPodR0ZlvQwe7uTvnMIAQ7G4+jBoJ6MNuCspMr7RZODZKsBZlOHA0Q1IMWCKqoPElx1L9f6BJHAwT1YNYFVbftlDiaX4B1iaMBgnow24LmehZ7nhC0DgjqBCmNYWAEQeuAoE4Q0ugqT3oc9EE9IZSazmwKWjerNANfToOCuABBnbBLo68808pwBr6cBgVxAYI6YZPGUHlm3ckZ+HIaFMQFCOpEbRpjzxOC2gNBnUjTqH5ha1CnZyzo6uoqBLUCgjqRpKn+wtag3s64/lyFoLZAUCf0gmZ66o5/Y+376iqaeEsgqBMaQWsrTwYEpQBBnVD2QUuVp+61yW8NjyOOJxDUgzAFzbGqPAXSHqEZ+HIaFMSFOkEv1jsLtu9FKDWdsAW1rDwnFceRWRQ0ig46nc6i1XsRSk0nZEEtK8/l5WVxJT98Ywa+HF/DPLFq4i0dJZSaTrCCWlaeywJ2VToAbga+HF/DPLHsgzJFLz+qedKpEs3dU6LpNELP+IrQU/Os5eXr168vLye33mOMJ44fyjTeivlhI+gwtvNONNq6cmh+HuGfJZ0Qa9Bq5ak69pLbyRA3NzfXUIPaUytoPErqCDOHdVUoodR0whNU6Lm3J7XtsXgrK4VFmyU7Rfu+hj6oNfWj+Evbtu9FKDWdwAQVdu7u7hZ6nuwsiUurmaHLqZ7SK4tnYJiBL8dTMF8wD+pCWnnulgZGm5tLsaCr4obCzgEEpQJB6RiG7ZuvvSYErTTt+VNkRWfgy2lQEBcgKJFk2K47VXfcxC9t6O0UT8IgyR4ISiIdt+vmPDdv3ayxcwBBSUBQI6bFIKpf3ai3cwBBSUBQE/yMNcn1cuVZPaG3lZ0M9EHtgaAm9nZ2dnYLJ6VL9DytCJrZqT143T+OFghqBaHUdKYi6G4s6M6eoudZEjSf8NSfXKGBOFogqBWEUtOZXg1asPNpnib1szAdbzzPrG8cLRDUCkKp6UypD6oZtmdplosdz5pfhPOMowWCWkEoNZ2pCJroWZ1UEmmWlXvaIWiTQFAtpjnPU5WdAwjaPBBUg7by5CjtZKAP2jAQVEXNDiPrCc+G4tQCQa0glJrOBAWtqzybstMyjgUQ1ApCqelMTFBj5ala4TneOFZAUCsIpaYzGUFF5XmU2lnsUUp2NpRmFr6cBgVxAYJKCD37+RFGa2trqaHFYREEnRQQNKXQ83x2xHYTrTHYY5VBOwSdFBBUUNDz6JksqGpKCYJOijkUtLqOszRs7x8xP5mgf/T7mglPCDop5k/QyjpO1awSf8qmdjoegk6MeRdUP+ept7O5NMF9Oao7p8u8Cron/zh2Vc/lTE/1+k4IOincBD3/qNv98CR6+XX3rnQ6HEKp6TTbB+WnRq63c3NFs/4Ygk4KN0Ff3OMXT+6x/zIIpabTsKBiGfL9pxU9l6WmfWN1dbw/jhnel6O4c7q4CfrkZ+zv6OF+dP5JXoUSSk2nwSb+6OhI1lN+uNDxzH+MY1xpgvtyVHdOFydBX/5yn10wOZmkKYRS02lOUDs7BxA0uXO6OAk6evjT7gf7kqBdTsPRxoSsp3R3bmd214/+OOZHk08IJJwEPf94Pxr9/HAGa1DZzr/8y2wliGZKCX3QwWzWoIzYzJkTtKDn+++/zfezmyc8x5iGEdCXM2ifoDM2SCr2PN9myIP2CacRBPPlcFoj6Iu7h9H5pyezNM1UGRjdiv10tNM/TUYYX05KawSNjrt8hn70IOSJeunEX5Ke6V0byy5Nu3saNRC0jvbu6sxO/FWoPJM0Xna6pNEAQetosaCxn7t75cqTp/G00yWNBghaR7sFrU7JR5KdS0ukY9i90miAoHW0V9DBrqLnKa1SWl1aWplgGjUQtI72Clrdn1kctBNPlOiZRgMEraNNgkoLkauVp++wiJzGCghaR4sE5cuU+DVJz+wUnk2eDwSCTo42CXr07Nmzvty2f/EFu10YtIdlRGBxIKgHFoLGfj6TKs8vHzNBS3VnWEYEFgeCemCxDWQ945tfPv4X1X2ZYRkRWBwI6oF+G6S7NAt2DjTrQMIyIrA4ENQD7TbY4zuMynrqhkVhGRFYHAjqgXYbsD2au1o73yrtLArLiMDiQFAP9ILuZJWnuCO388aNG2sTTkMkrDgQ1APtNijqKbXsqzdjynvbwzIisDgQ1APNNijbKQ+LVqt+BmZEYHEgqAeqbZBVnmwYb7c8PiwjAosDQT2oboNUTzbNZL0vMywjAosDQT0ob4PETnaVsqc9LCMCiwNBPShsg/tFPQnrQMIyIrA4ENSVfr8vbYNET3aVvEopLCMCiwNBHWFn9HyeXE/sTFYpkY8aDsuIwOJAUEdyQRM9v/vsyPGY9rCMCCwOBHUhHqSnggo7/9Hv/q77AuSwjAgsDgR1gK8FYX3QtOe54rU8PiwjAosDQR3Y3dnZ2U3POCv6nT4/lxmWEYHFabugp0o0d9vy1zHCztNTyU7Xt/NM0zRhxVGmaVAQF8KvQZ8KPb+R7Ly+6vx2YVVZgcVpew1KKLU1ws6jI0nP1VV3PwMzIrA4EJRIUnnu+XY8m0kjA0EnRbCC9hM75WFRAwe1h2VEYHEgqD2JnssNVp4eaSpA0EkRpKAqO8f+e/EkIOikCFBQdeUJQQ1AUCsIpdaibdohqAEIagWh1GqeJnq+pRgXQVADENQKQqkV7KXD9sEbN278w8q4CIIagKBWEEpdpN/vP830HGy8rhq1Q1ADENQKQqkLHD1j5wSJ7eQ/yjHYeFM1qQRBDUBQKwillhGn6d5hq5b47Y3VN998s3J6bghqAIJaQSh1jtDz2WO2rC754S3lb7hCUAMQ1ApCqVO4nfzMyHv8HHV6IKgBCGoFodTi9w6SHznoHx31VU8qAEENQFAr7EvNTidf+IWYeiCoAQhqhX2pj6h6QlAjENQK+1JzQeubdRkIagCCWmFfavaDHBb9ThkIagCCWkEotdW4qAAENQBBrSCUmg4ENQBBrSCUmg4ENQBBrSCUmg4ENQBBrSCUmg4ENQBBrSCUmg4ENQBBrSCUmg4ENQBB1bz8unv3ML9JKDUdCGoAgqp5co/9l0EoNR0IagCCKhk93I/OP8mrUEKp6UBQAxBUCZOTSRpFXU5TmQDIaEZQAeGfJR3UoAZQgyqBoN6EFQeCegBBDUBQJRgkeRNWnLYJimkmb8KK0zpBRw8wUe9HWHFaJ2gJQqnpQFADENQKQqnpQFADENQKQqnpQFADENSDsHYwhZUmsDhhpRFA0KkSVpyw0ggg6FQJK05YaQQQdKqEFSesNAIIOlXCihNWGgEEnSphxQkrjWD8ggLgAQQFQQNBQdBAUBA0EBQEzZgFLR05Pz34wuokzdRDnX/U7X4eTJwX3e4H+8GkKTNmQUtLmqfG6AH71pM00w41evB59CJ2Iow45x/vRy/ibyeMNBXGK2j5oJBpcdz9LDl+Kk4z9VAvPjyJK6rPQ4kT8e0UUJoC4xW0fFjdtPj2hCVJ0gQRKq5FA4pz/OFJQGkKzIegIklI2yAkJc4/+mA/qC9HBoJOheO7QcWJ+6ABpSkAQafBMRs2hxNHihFCmgLzMUjK/6kEMQ445hM5wcSZ40FSOJMW/EsPZCaFTewwwojDppjOPz0JJE2FMQtaOnJ+enBBkzTTDvWEnwvw81DiHHflGNNOUwa7OkHQQFAQNBAUBA0EBUEDQUHQQFAQNBC0ltFWZ5FfGXauhDQBMx9A0FpiQYWYPQg6eSBoLaOtX7+9HV9evPM9CDpxIGgto62FHmvjh1d+zAQ96HREk9+Lr9yJvV3/wTq/AsYBBK0lFnTIzOwt9uKLg0vb0dnV2NDeQsRvXKzHf9gVMA4gaC2xoGfXHkUXt7djQS/WeWV6+dEFa/bPrt6J+D3sChgHELSWWNDR1p24hT+MBR3yqjLxccia9ot13s5D0PEAQWuJBY0OFuIWPmKCdgR3WF/08i+uQtAxA0FrYYKeXfvbP92Osho0SirRMwg6biBoLUzQ0db3424o74MmJsbdUNbGQ9AxA0FrYYJGvQ77k4zio96lbVF5dhYh6HiBoLVwQVldyQXl86Cs9owvL23HpkLQsQJBQdBAUBA0EBQEDQQFQQNBQdBAUBA0EBQEDQQFQQNBQdBAUBA0EBQEDQQFQQNBQdBAUBA0/x/11m0SqBVnzAAAAABJRU5ErkJggg==" /></p>
<p>Now we can clearly notice how the OLS linear regression, misses the data trend close to the origin, while the weighted one correctly follows it.</p>
</div>
<div id="persist" class="section level1">
<h1><span class="header-section-number">5</span> Persistence</h1>
<p>Using the <code>imgnoiser.save()</code> function we can save an instance object to a disk file, and later, in another R session, retrieve it with the function <code>imgnoiser.load()</code>. The files saved to disk have <code>.imn</code> as name extension.</p>
<p>By default when we save an object, we also save in the same file all the <code>imgnoiser</code> package options. Correspondingly, when we load an object, by default, we also load all the <code>imgnoiser</code> package options. The <code>save.options</code> and <code>load.options</code> parameters in those functions allows to change that behaviour and save or load the package options only when desired.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Save the my.hvdvm object, and the package options, in a file named 'my.hvdvm'</span>
<span class="kw">imgnoiser.save</span>(my.hvdvm)
<span class="co"># Save the my.hvdvm object in a particula path and file name without</span>
<span class="co"># saving also the package options</span>
<span class="kw">imgnoiser.save</span>(my.hvdvm, <span class="st">'path/to/my.object'</span>, <span class="dt">save.options =</span> <span class="ot">FALSE</span>)

<span class="co"># Some days later, load the saved object, in another R session </span>
hvdvm.obj &lt;-<span class="st"> </span><span class="kw">imgnoiser.load</span>(<span class="st">'path/to/my.object'</span>)
<span class="co"># Load the object but not the package options</span>
hvdvm.obj &lt;-<span class="st"> </span><span class="kw">imgnoiser.load</span>(<span class="st">'path/to/my.object'</span>, <span class="dt">load.options =</span> <span class="ot">FALSE</span>)</code></pre>
<p>Additionally we can save or load just the package options —all of them— with the <code>imgnoiser.options.save()</code> and <code>imgnoiser.options.load()</code> functions.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Save the current package options</span>
<span class="kw">imgnoiser.options.save</span>(<span class="st">'this.options'</span>)

<span class="co"># In another R session, load the saved package options</span>
<span class="kw">imgnoiser.options.load</span>(<span class="st">'this.options'</span>)</code></pre>
<p>It is not required to specify the extension in the file names, if actually it is not <code>.imn</code>, that extension will be appended to the given file name.</p>
<p>↵</p>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
